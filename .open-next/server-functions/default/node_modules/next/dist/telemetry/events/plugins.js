"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"eventNextPlugins",{enumerable:!0,get:function(){return eventNextPlugins}});const _findup=_interop_require_default(require("next/dist/compiled/find-up"));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}const EVENT_PLUGIN_PRESENT="NEXT_PACKAGE_DETECTED";async function eventNextPlugins(e){try{const t=await(0,_findup.default)("package.json",{cwd:e});if(!t)return[];const{dependencies:n={},devDependencies:r={}}=require(t),u={...r,...n};return Object.keys(u).reduce(((e,t)=>{const n=u[t];return n?(e.push({eventName:EVENT_PLUGIN_PRESENT,payload:{packageName:t,packageVersion:n}}),e):e}),[])}catch(e){return[]}}