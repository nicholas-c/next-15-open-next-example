/**
 * @license React
 * react-refresh-babel.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";module.exports=function(e){function t(e,t){var n=e.scope.generateUidIdentifier("c");return d.has(e)||d.set(e,[]),d.get(e).push({handle:n,persistentID:t}),n}function n(e){return"string"==typeof e&&"A"<=e[0]&&"Z">=e[0]}function a(e,t,r){var i=t.node;switch(i.type){case"Identifier":if(!n(i.name))break;return r(e,i,null),!0;case"FunctionDeclaration":return r(e,i.id,null),!0;case"ArrowFunctionExpression":if("ArrowFunctionExpression"===i.body.type)break;return r(e,i,t),!0;case"FunctionExpression":return r(e,i,t),!0;case"CallExpression":var s=t.get("arguments");if(void 0===s||0===s.length)break;var o=t.get("callee");switch(o.node.type){case"MemberExpression":case"Identifier":return!!a(e+"$"+(o=o.getSource()),s[0],r)&&(r(e,i,t),!0);default:return!1}case"VariableDeclarator":if(null!==(s=i.init)&&n(o=i.id.name)){switch(s.type){case"ArrowFunctionExpression":case"FunctionExpression":case"TaggedTemplateExpression":break;case"CallExpression":var c=(i=s.callee).type;if("Import"===c||"Identifier"===c&&(0===i.name.indexOf("require")||0===i.name.indexOf("import")))return!1;break;default:return!1}if(a(e,i=t.get("init"),r))return!0;if(void 0===(o=t.scope.getBinding(o)))return;for(t=!1,o=o.referencePaths,c=0;c<o.length;c++){var l=o[c];if(!l.node||"JSXIdentifier"===l.node.type||"Identifier"===l.node.type){if("JSXOpeningElement"===(l=l.parent).type)t=!0;else if("CallExpression"===l.type){var p=void 0;switch((l=l.callee).type){case"Identifier":p=l.name;break;case"MemberExpression":p=l.property.name}switch(p){case"createElement":case"jsx":case"jsxDEV":case"jsxs":t=!0}}if(t)return r(e,s,i),!0}}}}return!1}function r(e){return void 0===(e=x.get(e))?null:{key:e.map((function(e){return e.name+"{"+e.key+"}"})).join("\n"),customHooks:e.filter((function(e){e:switch(e.name){case"useState":case"React.useState":case"useReducer":case"React.useReducer":case"useEffect":case"React.useEffect":case"useLayoutEffect":case"React.useLayoutEffect":case"useMemo":case"React.useMemo":case"useCallback":case"React.useCallback":case"useRef":case"React.useRef":case"useContext":case"React.useContext":case"useImperativeHandle":case"React.useImperativeHandle":case"useDebugValue":case"React.useDebugValue":e=!0;break e;default:e=!1}return!e})).map((function(e){return p.cloneDeep(e.callee)}))}}function i(e){e=e.hub.file;var t=h.get(e);if(void 0!==t)return t;t=!1;for(var n=e.ast.comments,a=0;a<n.length;a++)if(-1!==n[a].value.indexOf("@refresh reset")){t=!0;break}return h.set(e,t),t}function s(e,t,n){var a=t.key;t=t.customHooks;var r=i(n.path),s=[];return t.forEach((function(e){switch(e.type){case"MemberExpression":if("Identifier"===e.object.type)var t=e.object.name;break;case"Identifier":t=e.name}n.hasBinding(t)?s.push(e):r=!0})),t=a,"function"!=typeof require||c.emitFullSignatures||(t=require("crypto").createHash("sha1").update(a).digest("base64")),e=[e,p.stringLiteral(t)],(r||0<s.length)&&e.push(p.booleanLiteral(r)),0<s.length&&e.push(p.functionExpression(null,[],p.blockStatement([p.returnStatement(p.arrayExpression(s))]))),e}function o(e){for(var t=[];;){if(!e)return t;var n=e.parentPath;if(!n)return t;if("AssignmentExpression"===n.node.type&&e.node===n.node.right)e=n;else{if("CallExpression"!==n.node.type||e.node===n.node.callee)return t;t.push(n),e=n}}}var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof e.env){var l=e.env();if("development"!==l&&!c.skipEnvCheck)throw Error('React Refresh Babel transform should only be enabled in development environment. Instead, the environment is: "'+l+'". If you want to override this check, pass {skipEnvCheck: true} as plugin options.')}var p=e.types,u=p.identifier(c.refreshReg||"$RefreshReg$"),f=p.identifier(c.refreshSig||"$RefreshSig$"),d=new Map,h=new WeakMap,m=new WeakSet,g=new WeakSet,v=new WeakSet,x=new WeakMap,y={CallExpression:function(e){var t=e.node.callee,n=null;switch(t.type){case"Identifier":n=t.name;break;case"MemberExpression":n=t.property.name}if(null!==n&&/^use[A-Z]/.test(n)&&null!==(t=e.scope.getFunctionParent())){t=t.block,x.has(t)||x.set(t,[]),t=x.get(t);var a="";"VariableDeclarator"===e.parent.type&&(a=e.parentPath.get("id").getSource());var r=e.get("arguments");"useState"===n&&0<r.length?a+="("+r[0].getSource()+")":"useReducer"===n&&1<r.length&&(a+="("+r[1].getSource()+")"),t.push({callee:e.node.callee,name:n,key:a})}}};return{visitor:{ExportDefaultDeclaration:function(e){var n=e.node,r=n.declaration,i=e.get("declaration");if("CallExpression"===r.type&&!m.has(n)){m.add(n);var s=e.parentPath;a("%default%",i,(function(e,n,a){null!==a&&(e=t(s,e),a.replaceWith(p.assignmentExpression("=",e,n)))}))}},FunctionDeclaration:{enter:function(e){var r=e.node,i="";switch(e.parent.type){case"Program":var s=e,o=e.parentPath;break;case"TSModuleBlock":o=(s=e).parentPath.parentPath;break;case"ExportNamedDeclaration":case"ExportDefaultDeclaration":s=e.parentPath,o=s.parentPath;break;default:return}if("TSModuleBlock"===e.parent.type||"ExportNamedDeclaration"===e.parent.type)for(;"Program"!==o.type;){if("TSModuleDeclaration"===o.type){if("Program"!==o.parentPath.type&&"ExportNamedDeclaration"!==o.parentPath.type)return;i=o.node.id.name+"$"+i}o=o.parentPath}var c=r.id;null!==c&&(n(c=c.name)&&!m.has(r)&&(m.add(r),a(i+c,e,(function(e,n){e=t(o,e),s.insertAfter(p.expressionStatement(p.assignmentExpression("=",e,n)))}))))},exit:function(e){var t=e.node,n=t.id;if(null!==n){var a=r(t);if(null!==a&&!g.has(t)){g.add(t),t=e.scope.generateUidIdentifier("_s"),e.scope.parent.push({id:t,init:p.callExpression(f,[])}),e.get("body").unshiftContainer("body",p.expressionStatement(p.callExpression(t,[])));var i=null;e.find((function(e){if(e.parentPath.isBlock())return i=e,!0})),null!==i&&i.insertAfter(p.expressionStatement(p.callExpression(t,s(n,a,i.scope))))}}}},"ArrowFunctionExpression|FunctionExpression":{exit:function(e){var t=e.node,n=r(t);if(null!==n&&!g.has(t)){g.add(t);var a=e.scope.generateUidIdentifier("_s");if(e.scope.parent.push({id:a,init:p.callExpression(f,[])}),"BlockStatement"!==e.node.body.type&&(e.node.body=p.blockStatement([p.returnStatement(e.node.body)])),e.get("body").unshiftContainer("body",p.expressionStatement(p.callExpression(a,[]))),"VariableDeclarator"===e.parent.type){var i=null;e.find((function(e){if(e.parentPath.isBlock())return i=e,!0})),null!==i&&i.insertAfter(p.expressionStatement(p.callExpression(a,s(e.parent.id,n,i.scope))))}else[e].concat(o(e)).forEach((function(e){e.replaceWith(p.callExpression(a,s(e.node,n,e.scope)))}))}}},VariableDeclaration:function(e){var n=e.node,r="";switch(e.parent.type){case"Program":var i=e,s=e.parentPath;break;case"TSModuleBlock":s=(i=e).parentPath.parentPath;break;case"ExportNamedDeclaration":case"ExportDefaultDeclaration":i=e.parentPath,s=i.parentPath;break;default:return}if("TSModuleBlock"===e.parent.type||"ExportNamedDeclaration"===e.parent.type)for(;"Program"!==s.type;){if("TSModuleDeclaration"===s.type){if("Program"!==s.parentPath.type&&"ExportNamedDeclaration"!==s.parentPath.type)return;r=s.node.id.name+"$"+r}s=s.parentPath}if(!m.has(n)&&(m.add(n),1===(e=e.get("declarations")).length)){var o=e[0];a(r+o.node.id.name,o,(function(e,n,a){null!==a&&(e=t(s,e),"VariableDeclarator"===a.parent.type?i.insertAfter(p.expressionStatement(p.assignmentExpression("=",e,o.node.id))):a.replaceWith(p.assignmentExpression("=",e,n)))}))}},Program:{enter:function(e){e.traverse(y)},exit:function(e){var t=d.get(e);if(void 0!==t){var n=e.node;if(!v.has(n)){v.add(n),d.delete(e);var a=[];e.pushContainer("body",p.variableDeclaration("var",a)),t.forEach((function(t){var n=t.handle;e.pushContainer("body",p.expressionStatement(p.callExpression(u,[n,p.stringLiteral(t.persistentID)]))),a.push(p.variableDeclarator(n))}))}}}}}}};