(()=>{var t={873:(t,e,r)=>{"use strict";var n=r(742),o=[];function i(t){var e;(e=o.length?o.pop():new s).task=t,e.domain=process.domain,n(e)}function s(){this.task=null,this.domain=null}t.exports=i,s.prototype.call=function(){this.domain&&this.domain.enter();var t=!0;try{this.task.call(),t=!1,this.domain&&this.domain.exit()}finally{t&&n.requestFlush(),this.task=null,this.domain=null,o.push(this)}}},742:(t,e,r)=>{"use strict";var n,o="function"==typeof setImmediate;function i(t){s.length||(l(),u=!0),s[s.length]=t}t.exports=i;var s=[],u=!1,a=0,c=1024;function f(){for(;a<s.length;){var t=a;if(a+=1,s[t].call(),a>c){for(var e=0,r=s.length-a;e<r;e++)s[e]=s[e+a];s.length-=a,a=0}}s.length=0,a=0,u=!1}function l(){var t=process.domain;t&&(n||(n=r(639)),n.active=process.domain=null),u&&o?setImmediate(f):process.nextTick(f),t&&(n.active=process.domain=t)}i.requestFlush=l},758:(t,e,r)=>{var n={};t.exports=n,n.themes={};var o=r(837),i=n.styles=r(77),s=Object.defineProperties,u=new RegExp(/[\r\n]+/g);n.supportsColor=r(725).supportsColor,void 0===n.enabled&&(n.enabled=!1!==n.supportsColor()),n.enable=function(){n.enabled=!0},n.disable=function(){n.enabled=!1},n.stripColors=n.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};n.stylize=function(t,e){if(!n.enabled)return t+"";var r=i[e];return!r&&e in n?n[e](t):r.open+t+r.close};var a=/[|\\{}()[\]^$+*?.]/g,c=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(a,"\\$&")};function f(t){var e=function t(){return h.apply(t,arguments)};return e._styles=t,e.__proto__=p,e}var l=function(){var t={};return i.grey=i.gray,Object.keys(i).forEach((function(e){i[e].closeRe=new RegExp(c(i[e].close),"g"),t[e]={get:function(){return f(this._styles.concat(e))}}})),t}(),p=s((function(){}),l);function h(){var t=Array.prototype.slice.call(arguments).map((function(t){return null!=t&&t.constructor===String?t:o.inspect(t)})).join(" ");if(!n.enabled||!t)return t;for(var e=-1!=t.indexOf("\n"),r=this._styles,s=r.length;s--;){var a=i[r[s]];t=a.open+t.replace(a.closeRe,a.open)+a.close,e&&(t=t.replace(u,(function(t){return a.close+t+a.open})))}return t}function d(){var t={};return Object.keys(l).forEach((function(e){t[e]={get:function(){return f([e])}}})),t}n.setTheme=function(t){if("string"!=typeof t)for(var e in t)!function(e){n[e]=function(r){if("object"==typeof t[e]){var o=r;for(var i in t[e])o=n[t[e][i]](o);return o}return n[t[e]](r)}}(e);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var g=function(t,e){var r=e.split("");return(r=r.map(t)).join("")};for(var m in n.trap=r(822),n.zalgo=r(576),n.maps={},n.maps.america=r(967)(n),n.maps.zebra=r(917)(n),n.maps.rainbow=r(410)(n),n.maps.random=r(409)(n),n.maps)!function(t){n[t]=function(e){return g(n.maps[t],e)}}(m);s(n,d())},822:t=>{t.exports=function(t,e){var r="";t=(t=t||"Run the trap, drop the bass").split("");var n={a:["@","ƒÑ","»∫","…Ö","Œî","Œõ","–î"],b:["√ü","∆Å","…É","…Æ","Œ≤","‡∏ø"],c:["¬©","»ª","œæ"],d:["√ê","∆ä","‘Ä","‘Å","‘Ç","‘É"],e:["√ã","ƒï","∆é","…ò","Œ£","Œæ","“º","‡©¨"],f:["”∫"],g:["…¢"],h:["ƒ¶","∆ï","“¢","“∫","”á","‘ä"],i:["‡ºè"],j:["ƒ¥"],k:["ƒ∏","“†","”É","‘û"],l:["ƒπ"],m:[" ç","”ç","”é","‘†","‘°","‡µ©"],n:["√ë","≈ã","∆ù","Õ∂","Œ†","“ä"],o:["√ò","√µ","√∏","«æ"," ò","—∫","◊ù","€ù","‡πè"],p:["«∑","“é"],q:["‡ßç"],r:["¬Æ","∆¶","»ê","…å"," Ä","–Ø"],s:["¬ß","œû","œü","œ®"],t:["≈Å","≈¶","Õ≥"],u:["∆±","’ç"],v:["◊ò"],w:["–®","—†","—º","‡µ∞"],x:["“≤","”æ","”º","”Ω"],y:["¬•","“∞","”ã"],z:["∆µ","…Ä"]};return t.forEach((function(t){t=t.toLowerCase();var e=n[t]||[" "],o=Math.floor(Math.random()*e.length);void 0!==n[t]?r+=n[t][o]:r+=t})),r}},576:t=>{t.exports=function(t,e){t=t||"   he is here   ";var r={up:["Ãç","Ãé","ÃÑ","ÃÖ","Ãø","Ãë","ÃÜ","Ãê","Õí","Õó","Õë","Ãá","Ãà","Ãä","ÕÇ","Ãì","Ãà","Õä","Õã","Õå","ÃÉ","ÃÇ","Ãå","Õê","ÃÄ","ÃÅ","Ãã","Ãè","Ãí","Ãì","Ãî","ÃΩ","Ãâ","Õ£","Õ§","Õ•","Õ¶","Õß","Õ®","Õ©","Õ™","Õ´","Õ¨","Õ≠","ÕÆ","ÕØ","Ãæ","Õõ","ÕÜ","Ãö"],down:["Ãñ","Ãó","Ãò","Ãô","Ãú","Ãù","Ãû","Ãü","Ã†","Ã§","Ã•","Ã¶","Ã©","Ã™","Ã´","Ã¨","Ã≠","ÃÆ","ÃØ","Ã∞","Ã±","Ã≤","Ã≥","Ãπ","Ã∫","Ãª","Ãº","ÕÖ","Õá","Õà","Õâ","Õç","Õé","Õì","Õî","Õï","Õñ","Õô","Õö","Ã£"],mid:["Ãï","Ãõ","ÃÄ","ÃÅ","Õò","Ã°","Ã¢","Ãß","Ã®","Ã¥","Ãµ","Ã∂","Õú","Õù","Õû","Õü","Õ†","Õ¢","Ã∏","Ã∑","Õ°"," “â"]},n=[].concat(r.up,r.down,r.mid);function o(t){return Math.floor(Math.random()*t)}function i(t){var e=!1;return n.filter((function(r){e=r===t})),e}function s(t,e){var n,s,u="";for(s in(e=e||{}).up=void 0===e.up||e.up,e.mid=void 0===e.mid||e.mid,e.down=void 0===e.down||e.down,e.size=void 0!==e.size?e.size:"maxi",t=t.split(""))if(!i(s)){switch(u+=t[s],n={up:0,down:0,mid:0},e.size){case"mini":n.up=o(8),n.mid=o(2),n.down=o(8);break;case"maxi":n.up=o(16)+3,n.mid=o(4)+1,n.down=o(64)+3;break;default:n.up=o(8)+1,n.mid=o(6)/2,n.down=o(8)+1}var a=["up","mid","down"];for(var c in a)for(var f=a[c],l=0;l<=n[f];l++)e[f]&&(u+=r[f][o(r[f].length)])}return u}return s(t,e)}},967:t=>{t.exports=function(t){return function(e,r,n){if(" "===e)return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}},410:t=>{t.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,o){return" "===r?r:t[e[n++%e.length]](r)}}},409:t=>{t.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,o){return" "===r?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}},917:t=>{t.exports=function(t){return function(e,r,n){return r%2==0?e:t.inverse(e)}}},77:t=>{var e={};t.exports=e;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(t){var n=r[t],o=e[t]=[];o.open="["+n[0]+"m",o.close="["+n[1]+"m"}))},274:t=>{"use strict";t.exports=function(t,e){var r=(e=e||process.argv).indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",o=e.indexOf(n+t);return-1!==o&&(-1===r||o<r)}},725:(t,e,r)=>{"use strict";var n=r(37),o=r(274),i=process.env,s=void 0;function u(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function a(t){if(!1===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!t.isTTY&&!0!==s)return 0;var e=s?1:0;if("win32"===process.platform){var r=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(t){return t in i}))||"codeship"===i.CI_NAME?1:e;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in i){var u=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,e)}function c(t){return u(a(t))}o("no-color")||o("no-colors")||o("color=false")?s=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=!0),"FORCE_COLOR"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),t.exports={supportsColor:c,stdout:c(process.stdout),stderr:c(process.stderr)}},915:(t,e,r)=>{var n=r(758);t.exports=n},356:(t,e,r)=>{"use strict";t.exports=r(730)},52:(t,e,r)=>{"use strict";var n=r(742);function o(){}var i=null,s={};function u(t){try{return t.then}catch(t){return i=t,s}}function a(t,e){try{return t(e)}catch(t){return i=t,s}}function c(t,e,r){try{t(e,r)}catch(t){return i=t,s}}function f(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,t!==o&&y(t,this)}function l(t,e,r){return new t.constructor((function(n,i){var s=new f(o);s.then(n,i),p(t,new v(e,r,s))}))}function p(t,e){for(;3===t._y;)t=t._z;if(f._B&&f._B(t),0===t._y)return 0===t._x?(t._x=1,void(t._A=e)):1===t._x?(t._x=2,void(t._A=[t._A,e])):void t._A.push(e);h(t,e)}function h(t,e){n((function(){var r=1===t._y?e.onFulfilled:e.onRejected;if(null!==r){var n=a(r,t._z);n===s?g(e.promise,i):d(e.promise,n)}else 1===t._y?d(e.promise,t._z):g(e.promise,t._z)}))}function d(t,e){if(e===t)return g(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var r=u(e);if(r===s)return g(t,i);if(r===t.then&&e instanceof f)return t._y=3,t._z=e,void m(t);if("function"==typeof r)return void y(r.bind(e),t)}t._y=1,t._z=e,m(t)}function g(t,e){t._y=2,t._z=e,f._C&&f._C(t,e),m(t)}function m(t){if(1===t._x&&(p(t,t._A),t._A=null),2===t._x){for(var e=0;e<t._A.length;e++)p(t,t._A[e]);t._A=null}}function v(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function y(t,e){var r=!1,n=c(t,(function(t){r||(r=!0,d(e,t))}),(function(t){r||(r=!0,g(e,t))}));r||n!==s||(r=!0,g(e,i))}t.exports=f,f._B=null,f._C=null,f._D=o,f.prototype.then=function(t,e){if(this.constructor!==f)return l(this,t,e);var r=new f(o);return p(this,new v(t,e,r)),r}},941:(t,e,r)=>{"use strict";var n=r(52);t.exports=n,n.prototype.done=function(t,e){(arguments.length?this.then.apply(this,arguments):this).then(null,(function(t){setTimeout((function(){throw t}),0)}))}},751:(t,e,r)=>{"use strict";var n=r(52);t.exports=n;var o=f(!0),i=f(!1),s=f(null),u=f(void 0),a=f(0),c=f("");function f(t){var e=new n(n._D);return e._y=1,e._z=t,e}n.resolve=function(t){if(t instanceof n)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return i;if(0===t)return a;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new n(e.bind(t))}catch(t){return new n((function(e,r){r(t)}))}return f(t)};var l=function(t){return"function"==typeof Array.from?(l=Array.from,Array.from(t)):(l=function(t){return Array.prototype.slice.call(t)},Array.prototype.slice.call(t))};function p(t){return{status:"fulfilled",value:t}}function h(t){return{status:"rejected",reason:t}}function d(t){if(t&&("object"==typeof t||"function"==typeof t)){if(t instanceof n&&t.then===n.prototype.then)return t.then(p,h);var e=t.then;if("function"==typeof e)return new n(e.bind(t)).then(p,h)}return p(t)}function g(t){if("function"==typeof AggregateError)return new AggregateError(t,"All promises were rejected");var e=new Error("All promises were rejected");return e.name="AggregateError",e.errors=t,e}n.all=function(t){var e=l(t);return new n((function(t,r){if(0===e.length)return t([]);var o=e.length;function i(s,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof n&&u.then===n.prototype.then){for(;3===u._y;)u=u._z;return 1===u._y?i(s,u._z):(2===u._y&&r(u._z),void u.then((function(t){i(s,t)}),r))}var a=u.then;if("function"==typeof a)return void new n(a.bind(u)).then((function(t){i(s,t)}),r)}e[s]=u,0==--o&&t(e)}for(var s=0;s<e.length;s++)i(s,e[s])}))},n.allSettled=function(t){return n.all(l(t).map(d))},n.reject=function(t){return new n((function(e,r){r(t)}))},n.race=function(t){return new n((function(e,r){l(t).forEach((function(t){n.resolve(t).then(e,r)}))}))},n.prototype.catch=function(t){return this.then(null,t)},n.any=function(t){return new n((function(e,r){var o=l(t),i=!1,s=[];function u(t){i||(i=!0,e(t))}function a(t){s.push(t),s.length===o.length&&r(g(s))}0===o.length?r(g(s)):o.forEach((function(t){n.resolve(t).then(u,a)}))}))}},419:(t,e,r)=>{"use strict";var n=r(52);t.exports=n,n.prototype.finally=function(t){return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))}))}},730:(t,e,r)=>{"use strict";t.exports=r(52),r(941),r(419),r(751),r(247),r(611)},247:(t,e,r)=>{"use strict";var n=r(52),o=r(873);t.exports=n,n.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?s(t,e):u(t)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";function s(t,e){for(var r=[],o=0;o<e;o++)r.push("a"+o);var s=["return function ("+r.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(r).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(n,t)}function u(t){for(var e=Math.max(t.length-1,3),r=[],o=0;o<e;o++)r.push("a"+o);var s=["return function ("+r.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",r.concat(["extra"]).map((function(t,e){return"case "+e+":res = fn.call("+["self"].concat(r.slice(0,e)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(n,t)}n.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),r="function"==typeof e[e.length-1]?e.pop():null,i=this;try{return t.apply(this,arguments).nodeify(r,i)}catch(t){if(null==r)return new n((function(e,r){r(t)}));o((function(){r.call(i,t)}))}}},n.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then((function(r){o((function(){t.call(e,null,r)}))}),(function(r){o((function(){t.call(e,r)}))}))}},611:(t,e,r)=>{"use strict";var n=r(52);t.exports=n,n.enableSynchronous=function(){n.prototype.isPending=function(){return 0==this.getState()},n.prototype.isFulfilled=function(){return 1==this.getState()},n.prototype.isRejected=function(){return 2==this.getState()},n.prototype.getValue=function(){if(3===this._y)return this._z.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._z},n.prototype.getReason=function(){if(3===this._y)return this._z.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._z},n.prototype.getState=function(){return 3===this._y?this._z.getState():-1===this._y||-2===this._y?0:this._y}},n.disableSynchronous=function(){n.prototype.isPending=void 0,n.prototype.isFulfilled=void 0,n.prototype.isRejected=void 0,n.prototype.getValue=void 0,n.prototype.getReason=void 0,n.prototype.getState=void 0}},639:t=>{"use strict";t.exports=require("domain")},147:t=>{"use strict";t.exports=require("fs")},685:t=>{"use strict";t.exports=require("http")},687:t=>{"use strict";t.exports=require("https")},318:t=>{"use strict";t.exports=require("next/dist/compiled/commander")},37:t=>{"use strict";t.exports=require("os")},17:t=>{"use strict";t.exports=require("path")},837:t=>{"use strict";t.exports=require("util")},144:t=>{"use strict";t.exports=require("vm")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}},s=!0;try{t[n](i,i.exports,r),s=!1}finally{s&&delete e[n]}return i.exports}void 0!==r&&(r.ab=__dirname+"/");var n={};(()=>{"use strict";var t=n;const e=r(915),o=r(147),i=r(685),s=r(687),{program:u}=(r(17),r(318)),a=r(356),c=(r(837),r(144)),f="amphtml-validator";function l(t,e){return 0==t.indexOf(e)}function p(t){return l(t,"http://")||l(t,"https://")}function h(t){return new a((function(e,r){o.readFile(t,"utf8",(function(t,n){t?r(t):e(n.trim())}))}))}function d(t,e){return new a((function(r,n){const o=[];e.setEncoding("utf8"),e.on("data",(function(t){o.push(t)})),e.on("end",(function(){r(o.join(""))})),e.on("error",(function(e){n(new Error("Could not read from "+t+" - "+e.message))}))}))}function g(){return d("stdin",process.stdin).then((function(t){return process.stdin.resume(),t}))}function m(t,e){return new a((function(r,n){const o=(l(t,"http://")?i:s).request(t,(function(e){200!==e.statusCode?(e.resume(),n(new Error("Unable to fetch "+t+" - HTTP Status "+e.statusCode))):r(e)}));o.setHeader("User-Agent",e),o.on("error",(function(e){n(new Error("Unable to fetch "+t+" - "+e.message))})),o.end()})).then(d.bind(null,t))}function v(){this.status="UNKNOWN",this.errors=[]}function y(){this.severity="UNKNOWN_SEVERITY",this.line=1,this.col=0,this.message="",this.specUrl=null,this.code="UNKNOWN_CODE",this.params=[]}function w(t){this.sandbox=c.createContext();try{new c.Script(t).runInContext(this.sandbox)}catch(t){throw new Error("Could not instantiate validator_wasm.js - "+t.message)}}w.prototype.init=function(){return this.sandbox.amp.validator.init?this.sandbox.amp.validator.init():a.resolve(void 0)},w.prototype.validateString=function(t,e){const r=this.sandbox.amp.validator.validateString(t,e),n=new v;n.status=r.status;for(let t=0;t<r.errors.length;t++){const e=r.errors[t],o=new y;o.severity=e.severity,o.line=e.line,o.col=e.col,o.message=this.sandbox.amp.validator.renderErrorMessage(e),o.specUrl=e.specUrl,o.code=e.code,o.params=e.params,n.errors.push(o)}return n};const b={};function _(t,e){const r=t||"https://cdn.ampproject.org/v0/validator_wasm.js",n=e||f;if(b.hasOwnProperty(r))return a.resolve(b[r]);return(p(r)?m(r,n):h(r)).then((function(t){let e;try{e=new w(t)}catch(t){throw t}return b[r]=e,e})).then((function(t){return t.init().then((()=>t))}))}function x(t){return new w(t)}function A(t,r,n){"PASS"===r.status&&process.stdout.write(t+": "+(n?e.green("PASS"):"PASS")+"\n");for(let o=0;o<r.errors.length;o++){const i=r.errors[o];let s=t+":"+i.line+":"+i.col+" ";s+=n?("ERROR"===i.severity?e.red:e.magenta)(i.message):i.message,i.specUrl&&(s+=" (see "+i.specUrl+")"),process.stderr.write(s+"\n")}}function j(){u.usage('[options] <fileOrUrlOrMinus...>\n\n  Validates the files or urls provided as arguments. If "-" is\n  specified, reads from stdin instead.').option("--validator_js <fileOrUrl>","The Validator Javascript.\n  Latest published version by default, or\n  dist/validator_minified.js (built with build.py)\n  for development.","https://cdn.ampproject.org/v0/validator_wasm.js").option("--user-agent <userAgent>","User agent string to use in requests.",f).option("--html_format <AMP|AMP4ADS|AMP4EMAIL>","The input format to be validated.\n  AMP by default.","AMP").option("--format <color|text|json>",'How to format the output.\n  "color" displays errors/warnings/success in\n          red/orange/green.\n  "text"  avoids color (e.g., useful in terminals not\n          supporting color).\n  "json"  emits json corresponding to the ValidationResult\n          message in validator.proto.',"color").parse(process.argv);const t=u.opts();0===t.length&&(u.outputHelp(),process.exit(1)),"AMP"!==t.html_format&&"AMP4ADS"!==t.html_format&&"AMP4EMAIL"!==t.html_format&&process.stderr.write('--html_format must be set to "AMP", "AMP4ADS", or "AMP4EMAIL".\n',(function(){process.exit(1)})),"color"!==t.format&&"text"!==t.format&&"json"!==t.format&&process.stderr.write('--format must be set to "color", "text", or "json".\n',(function(){process.exit(1)}));const r=[];for(let e=0;e<u.args.length;e++){const n=u.args[e];"-"===n?r.push(g()):p(n)?r.push(m(n,t.userAgent)):r.push(h(n))}_(t.validator_js,t.userAgent).then((function(n){a.all(r).then((function(e){const r={};let o=!1;for(let i=0;i<e.length;i++){const s=n.validateString(e[i],t.html_format);"json"===t.format?r[u.args[i]]=s:A(u.args[i],s,"color"===t.format),"PASS"!==s.status&&(o=!0)}"json"===t.format?process.stdout.write(JSON.stringify(r)+"\n",(function(){process.exit(o?1:0)})):o?process.stderr.write("",(function(){process.exit(1)})):process.stdout.write("",(function(){process.exit(0)}))})).catch((function(r){process.stderr.write(("color"==t.format?e.red(r.message):r.message)+"\n",(function(){process.exit(1)}))}))})).catch((function(r){process.stderr.write(("color"==t.format?e.red(r.message):r.message)+"\n",(function(){process.exit(1)}))}))}t.getInstance=_,t.newInstance=x,t.main=j})(),module.exports=n})();