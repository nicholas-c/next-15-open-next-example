(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var e={};(()=>{var r=e;function t(e){for(var r=[],t=0;t<e.length;){var n=e[t];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)r.push({type:"CHAR",index:t,value:e[t++]});else{var i=1,o="";if("?"===e[a=t+1])throw new TypeError('Pattern cannot start with "?" at '+a);for(;a<e.length;)if("\\"!==e[a]){if(")"===e[a]){if(0===--i){a++;break}}else if("("===e[a]&&(i++,"?"!==e[a+1]))throw new TypeError("Capturing groups are not allowed at "+a);o+=e[a++]}else o+=e[a++]+e[a++];if(i)throw new TypeError("Unbalanced pattern at "+t);if(!o)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:o}),t=a}else{for(var f="",a=t+1;a<e.length;){var u=e.charCodeAt(a);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;f+=e[a++]}if(!f)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:f}),t=a}else r.push({type:"CLOSE",index:t,value:e[t++]});else r.push({type:"OPEN",index:t,value:e[t++]});else r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});else r.push({type:"MODIFIER",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}function n(e,r){void 0===r&&(r={});for(var n=t(e),i=r.prefixes,o=void 0===i?"./":i,f="[^"+u(r.delimiter||"/#?")+"]+?",a=[],p=0,s=0,d="",c=function(e){if(s<n.length&&n[s].type===e)return n[s++].value},v=function(e){var r=c(e);if(void 0!==r)return r;var t=n[s],i=t.type,o=t.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},l=function(){for(var e,r="";e=c("CHAR")||c("ESCAPED_CHAR");)r+=e;return r};s<n.length;){var h=c("CHAR"),x=c("NAME"),m=c("PATTERN");if(x||m){var E=h||"";-1===o.indexOf(E)&&(d+=E,E=""),d&&(a.push(d),d=""),a.push({name:x||p++,prefix:E,suffix:"",pattern:m||f,modifier:c("MODIFIER")||""})}else{var y=h||c("ESCAPED_CHAR");if(y)d+=y;else if(d&&(a.push(d),d=""),c("OPEN")){E=l();var g=c("NAME")||"",w=c("PATTERN")||"",T=l();v("CLOSE"),a.push({name:g||(w?p++:""),pattern:g&&!w?f:w,prefix:E,suffix:T,modifier:c("MODIFIER")||""})}else v("END")}}return a}function i(e,r){return o(n(e,r),r)}function o(e,r){void 0===r&&(r={});var t=p(r),n=r.encode,i=void 0===n?function(e){return e}:n,o=r.validate,f=void 0===o||o,a=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",t)}));return function(r){for(var t="",n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o){var u=r?r[o.name]:void 0,p="?"===o.modifier||"*"===o.modifier,s="*"===o.modifier||"+"===o.modifier;if(Array.isArray(u)){if(!s)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===u.length){if(p)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var d=0;d<u.length;d++){var c=i(u[d],o);if(f&&!a[n].test(c))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+c+'"');t+=o.prefix+c+o.suffix}}else if("string"!=typeof u&&"number"!=typeof u){if(!p){var v=s?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+v)}}else{c=i(String(u),o);if(f&&!a[n].test(c))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+c+'"');t+=o.prefix+c+o.suffix}}else t+=o}return t}}function f(e,r){var t=[];return a(l(e,t,r),t,r)}function a(e,r,t){void 0===t&&(t={});var n=t.decode,i=void 0===n?function(e){return e}:n;return function(t){var n=e.exec(t);if(!n)return!1;for(var o=n[0],f=n.index,a=Object.create(null),u=function(e){if(void 0===n[e])return"continue";var t=r[e-1];"*"===t.modifier||"+"===t.modifier?a[t.name]=n[e].split(t.prefix+t.suffix).map((function(e){return i(e,t)})):a[t.name]=i(n[e],t)},p=1;p<n.length;p++)u(p);return{path:o,index:f,params:a}}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function p(e){return e&&e.sensitive?"":"i"}function s(e,r){if(!r)return e;var t=e.source.match(/\((?!\?)/g);if(t)for(var n=0;n<t.length;n++)r.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}function d(e,r,t){var n=e.map((function(e){return l(e,r,t).source}));return new RegExp("(?:"+n.join("|")+")",p(t))}function c(e,r,t){return v(n(e,t),r,t)}function v(e,r,t){void 0===t&&(t={});for(var n=t.strict,i=void 0!==n&&n,o=t.start,f=void 0===o||o,a=t.end,s=void 0===a||a,d=t.encode,c=void 0===d?function(e){return e}:d,v="["+u(t.endsWith||"")+"]|$",l="["+u(t.delimiter||"/#?")+"]",h=f?"^":"",x=0,m=e;x<m.length;x++){var E=m[x];if("string"==typeof E)h+=u(c(E));else{var y=u(c(E.prefix)),g=u(c(E.suffix));if(E.pattern)if(r&&r.push(E),y||g)if("+"===E.modifier||"*"===E.modifier){var w="*"===E.modifier?"?":"";h+="(?:"+y+"((?:"+E.pattern+")(?:"+g+y+"(?:"+E.pattern+"))*)"+g+")"+w}else h+="(?:"+y+"("+E.pattern+")"+g+")"+E.modifier;else h+="("+E.pattern+")"+E.modifier;else h+="(?:"+y+g+")"+E.modifier}}if(s)i||(h+=l+"?"),h+=t.endsWith?"(?="+v+")":"$";else{var T=e[e.length-1],A="string"==typeof T?l.indexOf(T[T.length-1])>-1:void 0===T;i||(h+="(?:"+l+"(?="+v+"))?"),A||(h+="(?="+l+"|"+v+")")}return new RegExp(h,p(t))}function l(e,r,t){return e instanceof RegExp?s(e,r):Array.isArray(e)?d(e,r,t):c(e,r,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=n,r.compile=i,r.tokensToFunction=o,r.match=f,r.regexpToFunction=a,r.tokensToRegexp=v,r.pathToRegexp=l})(),module.exports=e})();