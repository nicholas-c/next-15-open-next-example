(()=>{var e={993:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function o(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(e,t,o,n,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var a=new s(o,n||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,o,s=[];if(0===this._eventsCount)return s;for(o in e=this._events)t.call(e,o)&&s.push(r?o.slice(1):o);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},a.prototype.listeners=function(e){var t=r?r+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var s=0,n=o.length,i=new Array(n);s<n;s++)i[s]=o[s].fn;return i},a.prototype.listenerCount=function(e){var t=r?r+e:e,o=this._events[t];return o?o.fn?1:o.length:0},a.prototype.emit=function(e,t,o,s,n,i){var a=r?r+e:e;if(!this._events[a])return!1;var c,h,u=this._events[a],p=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,s),!0;case 5:return u.fn.call(u.context,t,o,s,n),!0;case 6:return u.fn.call(u.context,t,o,s,n,i),!0}for(h=1,c=new Array(p-1);h<p;h++)c[h-1]=arguments[h];u.fn.apply(u.context,c)}else{var f,d=u.length;for(h=0;h<d;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),p){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,t);break;case 3:u[h].fn.call(u[h].context,t,o);break;case 4:u[h].fn.call(u[h].context,t,o,s);break;default:if(!c)for(f=1,c=new Array(p-1);f<p;f++)c[f-1]=arguments[f];u[h].fn.apply(u[h].context,c)}}return!0},a.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,o,s){var n=r?r+e:e;if(!this._events[n])return this;if(!t)return i(this,n),this;var a=this._events[n];if(a.fn)a.fn!==t||s&&!a.once||o&&a.context!==o||i(this,n);else{for(var c=0,h=[],u=a.length;c<u;c++)(a[c].fn!==t||s&&!a[c].once||o&&a[c].context!==o)&&h.push(a[c]);h.length?this._events[n]=1===h.length?h[0]:h:i(this,n)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},900:(e,t,r)=>{var o=r(310),s=o.URL,n=r(685),i=r(687),a=r(491),c=r(781).Writable,h=r(937)("follow-redirects"),u={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},p=Object.create(null);function f(e,t){c.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function d(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit("timeout")}),t)}function l(){clearTimeout(this._timeout)}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(n){var i=n+":",c=r[i]=e[n],u=t[n]=Object.create(c);u.request=function(e,n,c){if("string"==typeof e){var u=e;try{e=y(new s(u))}catch(t){e=o.parse(u)}}else s&&e instanceof s?e=y(e):(c=n,n=e,e={protocol:i});return"function"==typeof n&&(c=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=r,a.equal(n.protocol,i,"protocol mismatch"),h("options",n),new f(n,c)},u.get=function(e,t,r){var o=u.request(e,t,r);return o.end(),o}})),t}function w(){}function y(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}["abort","aborted","connect","error","socket","timeout"].forEach((function(e){p[e]=function(t,r,o){this._redirectable.emit(e,t,r,o)}})),f.prototype=Object.create(c.prototype),f.prototype.write=function(e,t,r){if(this._ending)throw new Error("write after end");if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):r&&r()},f.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var o=this,s=this._currentRequest;this.write(e,t,(function(){o._ended=!0,s.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},f.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},f.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},f.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)d(this,e);else{var r=this;this._currentRequest.once("socket",(function(){d(r,e)}))}return this.once("response",l),this.once("error",l),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){f.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(f.prototype,e,{get:function(){return this._currentRequest[e]}})})),f.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},f.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var n in this._currentUrl=o.format(this._options),s._redirectable=this,p)n&&s.on(n,p[n]);if(this._isRedirect){var i=0,a=this,c=this._requestBodyBuffers;!function e(t){if(s===a._currentRequest)if(t)a.emit("error",t);else if(i<c.length){var r=c[i++];s.finished||s.write(r.data,r.encoding,e)}else a._ended&&s.end()}()}}else this.emit("error",new Error("Unsupported protocol "+e))},f.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",w),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var s,n=this._options.headers;if(307!==t&&!(this._options.method in u))for(s in this._options.method="GET",this._requestBodyBuffers=[],n)/^content-/i.test(s)&&delete n[s];if(!this._isRedirect)for(s in n)/^host$/i.test(s)&&delete n[s];var i=o.resolve(this._currentUrl,r);if(h("redirecting to",i),Object.assign(this._options,o.parse(i)),"function"==typeof this._options.beforeRedirect){try{this._options.beforeRedirect.call(null,this._options)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}this._isRedirect=!0,this._performRequest()}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=v({http:n,https:i}),e.exports.wrap=v},413:(e,t,r)=>{
/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque sâ€™adagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */
e.exports=r(82)},82:(e,t,r)=>{var o=r(846).Server;function s(e){return new o(e)}o.createProxyServer=s,o.createServer=s,o.createProxy=s,e.exports=o},29:(e,t,r)=>{var o=t,s=r(310),n=r(837)._extend,i=r(85),a=/(^|,)\s*upgrade\s*($|,)/i,c=/^https|wss/;function h(e){return!!~e.indexOf(":")}o.isSSL=c,o.setupOutgoing=function(e,t,r,u){e.port=t[u||"target"].port||(c.test(t[u||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach((function(r){e[r]=t[u||"target"][r]})),e.method=t.method||r.method,e.headers=n({},r.headers),t.headers&&n(e.headers,t.headers),t.auth&&(e.auth=t.auth),t.ca&&(e.ca=t.ca),c.test(t[u||"target"].protocol)&&(e.rejectUnauthorized=void 0===t.secure||t.secure),e.agent=t.agent||!1,e.localAddress=t.localAddress,e.agent||(e.headers=e.headers||{},"string"==typeof e.headers.connection&&a.test(e.headers.connection)||(e.headers.connection="close"));var p=t[u||"target"],f=p&&!1!==t.prependPath&&p.path||"",d=t.toProxy?r.url:s.parse(r.url).path||"";return d=t.ignorePath?"":d,e.path=o.urlJoin(f,d),t.changeOrigin&&(e.headers.host=i(e.port,t[u||"target"].protocol)&&!h(e.host)?e.host+":"+e.port:e.host),e},o.setupSocket=function(e){return e.setTimeout(0),e.setNoDelay(!0),e.setKeepAlive(!0,0),e},o.getPort=function(e){var t=e.headers.host?e.headers.host.match(/:(\d+)/):"";return t?t[1]:o.hasEncryptedConnection(e)?"443":"80"},o.hasEncryptedConnection=function(e){return Boolean(e.connection.encrypted||e.connection.pair)},o.urlJoin=function(){var e,t=Array.prototype.slice.call(arguments),r=t.length-1,o=t[r].split("?");return t[r]=o.shift(),(e=[t.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")]).push.apply(e,o),e.join("?")},o.rewriteCookieProperty=function e(t,r,o){return Array.isArray(t)?t.map((function(t){return e(t,r,o)})):t.replace(new RegExp("(;\\s*"+o+"=)([^;]+)","i"),(function(e,t,o){var s;if(o in r)s=r[o];else{if(!("*"in r))return e;s=r["*"]}return s?t+s:""}))}},846:(e,t,r)=>{var o=e.exports,s=r(837)._extend,n=r(310).parse,i=r(993),a=r(685),c=r(687),h=r(249),u=r(558);function p(e){return function(t){return function(r,o){var i,a,c="ws"===e?this.wsPasses:this.webPasses,h=[].slice.call(arguments),u=h.length-1;"function"==typeof h[u]&&(a=h[u],u--);var p=t;if(h[u]instanceof Buffer||h[u]===o||(p=s({},t),s(p,h[u]),u--),h[u]instanceof Buffer&&(i=h[u]),["target","forward"].forEach((function(e){"string"==typeof p[e]&&(p[e]=n(p[e]))})),!p.target&&!p.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var f=0;f<c.length&&!c[f](r,o,p,i,this,a);f++);}}}function f(e){i.call(this),(e=e||{}).prependPath=!1!==e.prependPath,this.web=this.proxyRequest=p("web")(e),this.ws=this.proxyWebsocketRequest=p("ws")(e),this.options=e,this.webPasses=Object.keys(h).map((function(e){return h[e]})),this.wsPasses=Object.keys(u).map((function(e){return u[e]})),this.on("error",this.onError,this)}o.Server=f,o.createRightProxy=p,r(837).inherits(f,i),f.prototype.onError=function(e){if(1===this.listeners("error").length)throw e},f.prototype.listen=function(e,t){var r=this,o=function(e,t){r.web(e,t)};return this._server=this.options.ssl?c.createServer(this.options.ssl,o):a.createServer(o),this.options.ws&&this._server.on("upgrade",(function(e,t,o){r.ws(e,t,o)})),this._server.listen(e,t),this},f.prototype.close=function(e){var t=this;function r(){t._server=null,e&&e.apply(null,arguments)}this._server&&this._server.close(r)},f.prototype.before=function(e,t,r){if("ws"!==e&&"web"!==e)throw new Error("type must be `web` or `ws`");var o="ws"===e?this.wsPasses:this.webPasses,s=!1;if(o.forEach((function(e,r){e.name===t&&(s=r)})),!1===s)throw new Error("No such pass");o.splice(s,0,r)},f.prototype.after=function(e,t,r){if("ws"!==e&&"web"!==e)throw new Error("type must be `web` or `ws`");var o="ws"===e?this.wsPasses:this.webPasses,s=!1;if(o.forEach((function(e,r){e.name===t&&(s=r)})),!1===s)throw new Error("No such pass");o.splice(s++,0,r)}},249:(e,t,r)=>{var o=r(685),s=r(687),n=r(470),i=r(29),a=r(900);n=Object.keys(n).map((function(e){return n[e]}));var c={http:o,https:s};
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */e.exports={deleteLength:function(e,t,r){"DELETE"!==e.method&&"OPTIONS"!==e.method||e.headers["content-length"]||(e.headers["content-length"]="0",delete e.headers["transfer-encoding"])},timeout:function(e,t,r){r.timeout&&e.socket.setTimeout(r.timeout)},XHeaders:function(e,t,r){if(r.xfwd){var o=e.isSpdy||i.hasEncryptedConnection(e),s={for:e.connection.remoteAddress||e.socket.remoteAddress,port:i.getPort(e),proto:o?"https":"http"};["for","port","proto"].forEach((function(t){e.headers["x-forwarded-"+t]=(e.headers["x-forwarded-"+t]||"")+(e.headers["x-forwarded-"+t]?",":"")+s[t]})),e.headers["x-forwarded-host"]=e.headers["x-forwarded-host"]||e.headers.host||""}},stream:function(e,t,r,o,s,h){s.emit("start",e,t,r.target||r.forward);var u=r.followRedirects?a:c,p=u.http,f=u.https;if(r.forward){var d=("https:"===r.forward.protocol?f:p).request(i.setupOutgoing(r.ssl||{},r,e,"forward")),l=y(d,r.forward);if(e.on("error",l),d.on("error",l),(r.buffer||e).pipe(d),!r.target)return t.end()}var v=("https:"===r.target.protocol?f:p).request(i.setupOutgoing(r.ssl||{},r,e));v.on("socket",(function(o){s&&!v.getHeader("expect")&&s.emit("proxyReq",v,e,t,r)})),r.proxyTimeout&&v.setTimeout(r.proxyTimeout,(function(){v.abort()})),e.on("aborted",(function(){v.abort()}));var w=y(v,r.target);function y(r,o){return function(n){if(e.socket.destroyed&&"ECONNRESET"===n.code)return s.emit("econnreset",n,e,t,o),r.abort();h?h(n,e,t,o):s.emit("error",n,e,t,o)}}e.on("error",w),v.on("error",w),(r.buffer||e).pipe(v),v.on("response",(function(o){if(s&&s.emit("proxyRes",o,e,t),!t.headersSent&&!r.selfHandleResponse)for(var i=0;i<n.length&&!n[i](e,t,o,r);i++);t.finished?s&&s.emit("end",e,t,o):(o.on("end",(function(){s&&s.emit("end",e,t,o)})),r.selfHandleResponse||o.pipe(t))}))}}},470:(e,t,r)=>{var o=r(310),s=r(29),n=/^201|30(1|2|7|8)$/;
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */
e.exports={removeChunked:function(e,t,r){"1.0"===e.httpVersion&&delete r.headers["transfer-encoding"]},setConnection:function(e,t,r){"1.0"===e.httpVersion?r.headers.connection=e.headers.connection||"close":"2.0"===e.httpVersion||r.headers.connection||(r.headers.connection=e.headers.connection||"keep-alive")},setRedirectHostRewrite:function(e,t,r,s){if((s.hostRewrite||s.autoRewrite||s.protocolRewrite)&&r.headers.location&&n.test(r.statusCode)){var i=o.parse(s.target),a=o.parse(r.headers.location);if(i.host!=a.host)return;s.hostRewrite?a.host=s.hostRewrite:s.autoRewrite&&(a.host=e.headers.host),s.protocolRewrite&&(a.protocol=s.protocolRewrite),r.headers.location=a.format()}},writeHeaders:function(e,t,r,o){var n,i=o.cookieDomainRewrite,a=o.cookiePathRewrite,c=o.preserveHeaderKeyCase,h=function(e,r){null!=r&&(i&&"set-cookie"===e.toLowerCase()&&(r=s.rewriteCookieProperty(r,i,"domain")),a&&"set-cookie"===e.toLowerCase()&&(r=s.rewriteCookieProperty(r,a,"path")),t.setHeader(String(e).trim(),r))};if("string"==typeof i&&(i={"*":i}),"string"==typeof a&&(a={"*":a}),c&&null!=r.rawHeaders){n={};for(var u=0;u<r.rawHeaders.length;u+=2){var p=r.rawHeaders[u];n[p.toLowerCase()]=p}}Object.keys(r.headers).forEach((function(e){var t=r.headers[e];c&&n&&(e=n[e]||e),h(e,t)}))},writeStatusCode:function(e,t,r){r.statusMessage?(t.statusCode=r.statusCode,t.statusMessage=r.statusMessage):t.statusCode=r.statusCode}}},558:(e,t,r)=>{var o=r(685),s=r(687),n=r(29);
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */e.exports={checkMethodAndHeader:function(e,t){return"GET"===e.method&&e.headers.upgrade?"websocket"!==e.headers.upgrade.toLowerCase()?(t.destroy(),!0):void 0:(t.destroy(),!0)},XHeaders:function(e,t,r){if(r.xfwd){var o={for:e.connection.remoteAddress||e.socket.remoteAddress,port:n.getPort(e),proto:n.hasEncryptedConnection(e)?"wss":"ws"};["for","port","proto"].forEach((function(t){e.headers["x-forwarded-"+t]=(e.headers["x-forwarded-"+t]||"")+(e.headers["x-forwarded-"+t]?",":"")+o[t]}))}},stream:function(e,t,r,i,a,c){var h=function(e,t){return Object.keys(t).reduce((function(e,r){var o=t[r];if(!Array.isArray(o))return e.push(r+": "+o),e;for(var s=0;s<o.length;s++)e.push(r+": "+o[s]);return e}),[e]).join("\r\n")+"\r\n\r\n"};n.setupSocket(t),i&&i.length&&t.unshift(i);var u=(n.isSSL.test(r.target.protocol)?s:o).request(n.setupOutgoing(r.ssl||{},r,e));return a&&a.emit("proxyReqWs",u,e,t,r,i),u.on("error",p),u.on("response",(function(e){e.upgrade||(t.write(h("HTTP/"+e.httpVersion+" "+e.statusCode+" "+e.statusMessage,e.headers)),e.pipe(t))})),u.on("upgrade",(function(e,r,o){r.on("error",p),r.on("end",(function(){a.emit("close",e,r,o)})),t.on("error",(function(){r.end()})),n.setupSocket(r),o&&o.length&&r.unshift(o),t.write(h("HTTP/1.1 101 Switching Protocols",e.headers)),r.pipe(t).pipe(r),a.emit("open",r),a.emit("proxySocket",r)})),u.end();function p(r){c?c(r,e,t):a.emit("error",r,e,t),t.end()}}}},85:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},491:e=>{"use strict";e.exports=require("assert")},685:e=>{"use strict";e.exports=require("http")},687:e=>{"use strict";e.exports=require("https")},937:e=>{"use strict";e.exports=require("next/dist/compiled/debug")},781:e=>{"use strict";e.exports=require("stream")},310:e=>{"use strict";e.exports=require("url")},837:e=>{"use strict";e.exports=require("util")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}},i=!0;try{e[o](n,n.exports,r),i=!1}finally{i&&delete t[o]}return n.exports}void 0!==r&&(r.ab=__dirname+"/");var o=r(413);module.exports=o})();