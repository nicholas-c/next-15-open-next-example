"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pickFontFileForFallbackGeneration=pickFontFileForFallbackGeneration;const next_font_error_1=require("../next-font-error"),NORMAL_WEIGHT=400,BOLD_WEIGHT=700;function getWeightNumber(e){return"normal"===e?NORMAL_WEIGHT:"bold"===e?BOLD_WEIGHT:Number(e)}function getDistanceFromNormalWeight(e){if(!e)return 0;const[r,t]=e.trim().split(/ +/).map(getWeightNumber);if((Number.isNaN(r)||Number.isNaN(t))&&(0,next_font_error_1.nextFontError)(`Invalid weight value in src array: \`${e}\`.\nExpected \`normal\`, \`bold\` or a number.`),!t)return r-NORMAL_WEIGHT;if(r<=NORMAL_WEIGHT&&t>=NORMAL_WEIGHT)return 0;const n=r-NORMAL_WEIGHT,o=t-NORMAL_WEIGHT;return Math.abs(n)<Math.abs(o)?n:o}function pickFontFileForFallbackGeneration(e){return e.reduce(((e,r)=>{if(!e)return r;const t=getDistanceFromNormalWeight(e.weight),n=getDistanceFromNormalWeight(r.weight);if(t===n&&(void 0===r.style||"normal"===r.style))return r;const o=Math.abs(t),i=Math.abs(n);return i<o||o===i&&n<t?r:e}))}