"use strict";function injectRefreshFunctions(e,n){e.mainTemplate.hooks.localVars.tap("ReactFreshWebpackPlugin",(e=>n.asString([e,"","// noop fns to prevent runtime errors during initialization",'if (typeof self !== "undefined") {',n.indent("self.$RefreshReg$ = function () {};"),n.indent("self.$RefreshSig$ = function () {"),n.indent(n.indent("return function (type) {")),n.indent(n.indent(n.indent("return type;"))),n.indent(n.indent("};")),n.indent("};"),"}"])))}function webpack4(e){const{Template:n}=this;e.hooks.compilation.tap("ReactFreshWebpackPlugin",(e=>{injectRefreshFunctions(e,n);e.mainTemplate.hooks.require.tap("ReactFreshWebpackPlugin",(e=>{const t=e.split("\n"),i=t.findIndex((e=>e.includes("modules[moduleId].call(")));return-1===i?e:n.asString([...t.slice(0,i),'\n        var hasRefresh = typeof self !== "undefined" && !!self.$RefreshInterceptModuleExecution$;\n        var cleanup = hasRefresh\n          ? self.$RefreshInterceptModuleExecution$(moduleId)\n          : function() {};\n        try {\n        ',t[i],"\n        } finally {\n          cleanup();\n        }\n        ",...t.slice(i+1)])}))}))}function webpack5(e){const{RuntimeGlobals:n,RuntimeModule:t,Template:i}=this;class s extends t{constructor(){super("react refresh",5)}generate(){const{runtimeTemplate:e}=this.compilation;return i.asString([`if (${n.interceptModuleExecution}) {`,`${n.interceptModuleExecution}.push(${e.basicFunction("options",[(e.supportsConst()?"const":"var")+" originalFactory = options.factory;",`options.factory = ${e.basicFunction("moduleObject, moduleExports, webpackRequire",[(e.supportsConst()?"const":"var")+' hasRefresh = typeof self !== "undefined" && !!self.$RefreshInterceptModuleExecution$;',`${e.supportsConst()?"const":"var"} cleanup = hasRefresh ? self.$RefreshInterceptModuleExecution$(moduleObject.id) : ${e.supportsArrowFunction()?"() => {}":"function() {}"};`,"try {",i.indent("originalFactory.call(this, moduleObject, moduleExports, webpackRequire);"),"} finally {",i.indent("cleanup();"),"}"])}`])})`,"}"])}}e.hooks.compilation.tap("ReactFreshWebpackPlugin",(e=>{injectRefreshFunctions(e,i),e.hooks.additionalTreeRuntimeRequirements.tap("ReactFreshWebpackPlugin",(n=>{e.addRuntimeModule(n,new s)}))}))}Object.defineProperty(exports,"__esModule",{value:!0});class ReactFreshWebpackPlugin{constructor({version:e,RuntimeGlobals:n,RuntimeModule:t,Template:i}=require("webpack")){this.webpackMajorVersion=parseInt(null!=e?e:"",10),this.RuntimeGlobals=n,this.RuntimeModule=t,this.Template=i}apply(e){switch(this.webpackMajorVersion){case 4:webpack4.call(this,e);break;case 5:webpack5.call(this,e);break;default:throw new Error(`ReactFreshWebpackPlugin does not support webpack v${this.webpackMajorVersion}.`)}}}exports.default=ReactFreshWebpackPlugin;