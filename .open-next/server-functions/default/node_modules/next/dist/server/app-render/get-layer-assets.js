"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getLayerAssets",{enumerable:!0,get:function(){return getLayerAssets}});const _jsxruntime=require("react/jsx-runtime"),_react=_interop_require_default(require("react")),_getcssinlinedlinktags=require("./get-css-inlined-link-tags"),_getpreloadablefonts=require("./get-preloadable-fonts"),_getassetquerystring=require("./get-asset-query-string"),_encodeuripath=require("../../shared/lib/encode-uri-path"),_rendercssresource=require("./render-css-resource");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function getLayerAssets({ctx:e,layoutOrPagePath:t,injectedCSS:n,injectedJS:r,injectedFontPreloadTags:s,preloadCallbacks:o}){const{styles:c,scripts:i}=t?(0,_getcssinlinedlinktags.getLinkAndScriptTags)(e.clientReferenceManifest,t,n,r,!0):{styles:[],scripts:[]},a=t?(0,_getpreloadablefonts.getPreloadableFonts)(e.renderOpts.nextFontManifest,t,s):null;if(a)if(a.length)for(let t=0;t<a.length;t++){const n=a[t],r=`font/${/\.(woff|woff2|eot|ttf|otf)$/.exec(n)[1]}`,s=`${e.assetPrefix}/_next/${(0,_encodeuripath.encodeURIPath)(n)}`;o.push((()=>{e.componentMod.preloadFont(s,r,e.renderOpts.crossOrigin,e.nonce)}))}else try{let t=new URL(e.assetPrefix);o.push((()=>{e.componentMod.preconnect(t.origin,"anonymous",e.nonce)}))}catch(t){o.push((()=>{e.componentMod.preconnect("/","anonymous",e.nonce)}))}const u=(0,_rendercssresource.renderCssResource)(c,e,o),l=i?i.map(((t,n)=>{const r=`${e.assetPrefix}/_next/${(0,_encodeuripath.encodeURIPath)(t)}${(0,_getassetquerystring.getAssetQueryString)(e,!0)}`;return(0,_jsxruntime.jsx)("script",{src:r,async:!0,nonce:e.nonce},`script-${n}`)})):[];return u.length||l.length?[...u,...l]:null}