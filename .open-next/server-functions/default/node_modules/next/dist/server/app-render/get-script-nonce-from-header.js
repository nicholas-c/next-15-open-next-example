"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getScriptNonceFromHeader",{enumerable:!0,get:function(){return getScriptNonceFromHeader}});const _htmlescape=require("../htmlescape");function getScriptNonceFromHeader(e){var t;const r=e.split(";").map((e=>e.trim())),n=r.find((e=>e.startsWith("script-src")))||r.find((e=>e.startsWith("default-src")));if(!n)return;const c=null==(t=n.split(" ").slice(1).map((e=>e.trim())).find((e=>e.startsWith("'nonce-")&&e.length>8&&e.endsWith("'"))))?void 0:t.slice(7,-1);if(c){if(_htmlescape.ESCAPE_REGEX.test(c))throw Object.defineProperty(new Error("Nonce value from Content-Security-Policy contained HTML escape characters.\nLearn more: https://nextjs.org/docs/messages/nonce-contained-invalid-characters"),"__NEXT_ERROR_CODE",{value:"E440",enumerable:!1,configurable:!0});return c}}