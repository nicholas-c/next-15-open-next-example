"use strict";function _export(e,a){for(var o in a)Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{bindSnapshot:function(){return bindSnapshot},createAsyncLocalStorage:function(){return createAsyncLocalStorage},createSnapshot:function(){return createSnapshot}});const sharedAsyncLocalStorageNotAvailableError=Object.defineProperty(new Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class FakeAsyncLocalStorage{disable(){throw sharedAsyncLocalStorageNotAvailableError}getStore(){}run(){throw sharedAsyncLocalStorageNotAvailableError}exit(){throw sharedAsyncLocalStorageNotAvailableError}enterWith(){throw sharedAsyncLocalStorageNotAvailableError}static bind(e){return e}}const maybeGlobalAsyncLocalStorage="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function createAsyncLocalStorage(){return maybeGlobalAsyncLocalStorage?new maybeGlobalAsyncLocalStorage:new FakeAsyncLocalStorage}function bindSnapshot(e){return maybeGlobalAsyncLocalStorage?maybeGlobalAsyncLocalStorage.bind(e):FakeAsyncLocalStorage.bind(e)}function createSnapshot(){return maybeGlobalAsyncLocalStorage?maybeGlobalAsyncLocalStorage.snapshot():function(e,...a){return e(...a)}}