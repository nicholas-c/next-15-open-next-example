"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"loadStaticPaths",{enumerable:!0,get:function(){return loadStaticPaths}}),require("../require-hook"),require("../node-environment");const _utils=require("../../build/utils"),_appsegments=require("../../build/segment-config/app/app-segments"),_loadcomponents=require("../load-components"),_setuphttpagentenv=require("../setup-http-agent-env"),_checks=require("../route-modules/checks"),_ppr=require("../lib/experimental/ppr"),_invarianterror=require("../../shared/lib/invariant-error"),_collectrootparamkeys=require("../../build/segment-config/app/collect-root-param-keys"),_app=require("../../build/static-paths/app"),_pages=require("../../build/static-paths/pages"),_createincrementalcache=require("../../export/helpers/create-incremental-cache");async function loadStaticPaths({dir:e,distDir:t,pathname:a,config:r,httpAgentOptions:i,locales:n,defaultLocale:s,isAppPath:c,page:o,isrFlushToDisk:p,fetchCacheKeyPrefix:l,maxMemoryCacheSize:u,requestHeaders:d,cacheHandler:h,cacheHandlers:g,cacheLifeProfiles:m,nextConfigOutput:f,buildId:_,authInterrupts:P,sriEnabled:b}){await(0,_createincrementalcache.createIncrementalCache)({dir:e,distDir:t,cacheHandler:h,cacheHandlers:g,requestHeaders:d,fetchCacheKeyPrefix:l,flushToDisk:p,cacheMaxMemorySize:u}),require("../../shared/lib/runtime-config.external").setConfig(r),(0,_setuphttpagentenv.setHttpClientAndAgentOptions)({httpAgentOptions:i});const q=await(0,_loadcomponents.loadComponents)({distDir:t,page:o||a,isAppPath:c,isDev:!0,sriEnabled:b});if(c){const i=await(0,_appsegments.collectSegments)(q),n=(0,_checks.isAppPageRouteModule)(q.routeModule)&&(0,_ppr.checkIsRoutePPREnabled)(r.pprConfig,(0,_utils.reduceAppConfig)(i)),s=(0,_collectrootparamkeys.collectRootParamKeys)(q);return(0,_app.buildAppStaticPaths)({dir:e,page:a,dynamicIO:r.dynamicIO,segments:i,distDir:t,requestHeaders:d,cacheHandler:h,cacheLifeProfiles:m,isrFlushToDisk:p,fetchCacheKeyPrefix:l,maxMemoryCacheSize:u,ComponentMod:q.ComponentMod,nextConfigOutput:f,isRoutePPREnabled:n,buildId:_,authInterrupts:P,rootParamKeys:s})}if(!q.getStaticPaths)throw Object.defineProperty(new _invarianterror.InvariantError(`Failed to load page with getStaticPaths for ${a}`),"__NEXT_ERROR_CODE",{value:"E605",enumerable:!1,configurable:!0});return(0,_pages.buildPagesStaticPaths)({page:a,getStaticPaths:q.getStaticPaths,configFileName:r.configFileName,locales:n,defaultLocale:s})}