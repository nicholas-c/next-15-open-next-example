"use strict";function _export(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{fromResponseCacheEntry:function(){return fromResponseCacheEntry},routeKindToIncrementalCacheKind:function(){return routeKindToIncrementalCacheKind},toResponseCacheEntry:function(){return toResponseCacheEntry}});const _types=require("./types"),_renderresult=_interop_require_default(require("../render-result")),_routekind=require("../route-kind");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}async function fromResponseCacheEntry(e){var t,a;return{...e,value:(null==(t=e.value)?void 0:t.kind)===_types.CachedRouteKind.PAGES?{kind:_types.CachedRouteKind.PAGES,html:await e.value.html.toUnchunkedString(!0),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(a=e.value)?void 0:a.kind)===_types.CachedRouteKind.APP_PAGE?{kind:_types.CachedRouteKind.APP_PAGE,html:await e.value.html.toUnchunkedString(!0),postponed:e.value.postponed,rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,segmentData:e.value.segmentData}:e.value}}async function toResponseCacheEntry(e){var t,a,n;if(!e)return null;if((null==(t=e.value)?void 0:t.kind)===_types.CachedRouteKind.FETCH)throw Object.defineProperty(new Error("Invariant: unexpected cachedResponse of kind fetch in response cache"),"__NEXT_ERROR_CODE",{value:"E165",enumerable:!1,configurable:!0});return{isMiss:e.isMiss,isStale:e.isStale,revalidate:e.revalidate,isFallback:e.isFallback,value:(null==(a=e.value)?void 0:a.kind)===_types.CachedRouteKind.PAGES?{kind:_types.CachedRouteKind.PAGES,html:_renderresult.default.fromStatic(e.value.html),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(n=e.value)?void 0:n.kind)===_types.CachedRouteKind.APP_PAGE?{kind:_types.CachedRouteKind.APP_PAGE,html:_renderresult.default.fromStatic(e.value.html),rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,postponed:e.value.postponed,segmentData:e.value.segmentData}:e.value}}function routeKindToIncrementalCacheKind(e){switch(e){case _routekind.RouteKind.PAGES:return _types.IncrementalCacheKind.PAGES;case _routekind.RouteKind.APP_PAGE:return _types.IncrementalCacheKind.APP_PAGE;case _routekind.RouteKind.IMAGE:return _types.IncrementalCacheKind.IMAGE;case _routekind.RouteKind.APP_ROUTE:return _types.IncrementalCacheKind.APP_ROUTE;default:throw Object.defineProperty(new Error(`Unexpected route kind ${e}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0})}}