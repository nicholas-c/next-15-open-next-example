"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"io",{enumerable:!0,get:function(){return io}});const _workasyncstorageexternal=require("../app-render/work-async-storage.external"),_workunitasyncstorageexternal=require("../app-render/work-unit-async-storage.external"),_dynamicrendering=require("../app-render/dynamic-rendering"),_invarianterror=require("../../shared/lib/invariant-error");function io(e,r){const n=_workunitasyncstorageexternal.workUnitAsyncStorage.getStore();if(n)if("prerender"===n.type){const t=_workasyncstorageexternal.workAsyncStorage.getStore();if(t){let o;switch(r){case"time":o=`Route "${t.route}" used ${e} instead of using \`performance\` or without explicitly calling \`await connection()\` beforehand. See more info here: https://nextjs.org/docs/messages/next-prerender-current-time`;break;case"random":o=`Route "${t.route}" used ${e} outside of \`"use cache"\` and without explicitly calling \`await connection()\` beforehand. See more info here: https://nextjs.org/docs/messages/next-prerender-random`;break;case"crypto":o=`Route "${t.route}" used ${e} outside of \`"use cache"\` and without explicitly calling \`await connection()\` beforehand. See more info here: https://nextjs.org/docs/messages/next-prerender-crypto`;break;default:throw Object.defineProperty(new _invarianterror.InvariantError("Unknown expression type in abortOnSynchronousPlatformIOAccess."),"__NEXT_ERROR_CODE",{value:"E526",enumerable:!1,configurable:!0})}const a=Object.defineProperty(new Error(o),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});(0,_dynamicrendering.abortOnSynchronousPlatformIOAccess)(t.route,e,a,n)}}else if("request"===n.type&&!0===n.prerenderPhase){const e=n;(0,_dynamicrendering.trackSynchronousPlatformIOAccessInDev)(e)}}