"use strict";function _export(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{INTERNALS:function(){return INTERNALS},NextRequest:function(){return NextRequest}});const _nexturl=require("../next-url"),_utils=require("../utils"),_error=require("../error"),_cookies=require("./cookies"),INTERNALS=Symbol("internal request");class NextRequest extends Request{constructor(e,r={}){const t="string"!=typeof e&&"url"in e?e.url:String(e);(0,_utils.validateURL)(t),"edge"!==process.env.NEXT_RUNTIME&&r.body&&"half"!==r.duplex&&(r.duplex="half"),e instanceof Request?super(e,r):super(t,r);const s=new _nexturl.NextURL(t,{headers:(0,_utils.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:r.nextConfig});this[INTERNALS]={cookies:new _cookies.RequestCookies(this.headers),nextUrl:s,url:process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE?t:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[INTERNALS].cookies}get nextUrl(){return this[INTERNALS].nextUrl}get page(){throw new _error.RemovedPageError}get ua(){throw new _error.RemovedUAError}get url(){return this[INTERNALS].url}}