"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{NextFetchEvent:function(){return NextFetchEvent},getWaitUntilPromiseFromEvent:function(){return getWaitUntilPromiseFromEvent}});const _error=require("../error"),responseSymbol=Symbol("response"),passThroughSymbol=Symbol("passThrough"),waitUntilSymbol=Symbol("waitUntil");class FetchEvent{constructor(e,t){this[passThroughSymbol]=!1,this[waitUntilSymbol]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[responseSymbol]||(this[responseSymbol]=Promise.resolve(e))}passThroughOnException(){this[passThroughSymbol]=!0}waitUntil(e){if("external"===this[waitUntilSymbol].kind){return(0,this[waitUntilSymbol].function)(e)}this[waitUntilSymbol].promises.push(e)}}function getWaitUntilPromiseFromEvent(e){return"internal"===e[waitUntilSymbol].kind?Promise.all(e[waitUntilSymbol].promises).then((()=>{})):void 0}class NextFetchEvent extends FetchEvent{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new _error.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new _error.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}