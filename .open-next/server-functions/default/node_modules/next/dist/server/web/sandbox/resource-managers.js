"use strict";function _export(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{intervalsManager:function(){return intervalsManager},timeoutsManager:function(){return timeoutsManager}});class ResourceManager{add(e){const r=this.create(e);return this.resources.push(r),r}remove(e){this.resources=this.resources.filter((r=>r!==e)),this.destroy(e)}removeAll(){this.resources.forEach(this.destroy),this.resources=[]}constructor(){this.resources=[]}}class IntervalsManager extends ResourceManager{create(e){return webSetIntervalPolyfill(...e)}destroy(e){clearInterval(e)}}class TimeoutsManager extends ResourceManager{create(e){return webSetTimeoutPolyfill(...e)}destroy(e){clearTimeout(e)}}function webSetIntervalPolyfill(e,r,...t){return setInterval((()=>e.apply(globalThis,t)),r)[Symbol.toPrimitive]()}function webSetTimeoutPolyfill(e,r,...t){const s=setTimeout((()=>{try{return e.apply(globalThis,t)}finally{clearTimeout(s)}}),r);return s[Symbol.toPrimitive]()}const intervalsManager=new IntervalsManager,timeoutsManager=new TimeoutsManager;