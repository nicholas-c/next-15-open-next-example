"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"buildDataRoute",{enumerable:!0,get:function(){return buildDataRoute}});const _path=_interop_require_default(require("../../../shared/lib/isomorphic/path")),_normalizepagepath=require("../../../shared/lib/page-path/normalize-page-path"),_isdynamic=require("../../../shared/lib/router/utils/is-dynamic"),_routeregex=require("../../../shared/lib/router/utils/route-regex"),_loadcustomroutes=require("../../../lib/load-custom-routes"),_escaperegexp=require("../../../shared/lib/escape-regexp");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function buildDataRoute(e,t){const r=(0,_normalizepagepath.normalizePagePath)(e),a=_path.default.posix.join("/_next/data",t,`${r}.json`);let o,u,i;if((0,_isdynamic.isDynamicRoute)(e)){const e=(0,_routeregex.getNamedRouteRegex)(a,{prefixRouteKeys:!0,includeSuffix:!0,excludeOptionalTrailingSlash:!0});o=(0,_loadcustomroutes.normalizeRouteRegex)(e.re.source),u=e.namedRegex,i=e.routeKeys}else o=(0,_loadcustomroutes.normalizeRouteRegex)(new RegExp(`^${_path.default.posix.join("/_next/data",(0,_escaperegexp.escapeStringRegexp)(t),`${r}\\.json`)}$`).source);return{page:e,routeKeys:i,dataRouteRegex:o,namedDataRouteRegex:u}}