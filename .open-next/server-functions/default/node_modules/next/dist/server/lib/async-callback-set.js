"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AsyncCallbackSet",{enumerable:!0,get:function(){return AsyncCallbackSet}});class AsyncCallbackSet{add(e){this.callbacks.push(e)}async runAll(){if(!this.callbacks.length)return;const e=this.callbacks;this.callbacks=[],await Promise.allSettled(e.map((async e=>e())))}constructor(){this.callbacks=[]}}