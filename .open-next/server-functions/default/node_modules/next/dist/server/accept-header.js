"use strict";function parse(e,t,o){const r=new Map,n=e.replace(/[ \t]/g,"");if(t){let e=0;for(const n of t){const t=n.toLowerCase();if(r.set(t,{orig:n,pos:e++}),o.prefixMatch){const o=t.split("-");for(;o.pop(),o.length>0;){const t=o.join("-");r.has(t)||r.set(t,{orig:n,pos:e++})}}}}const s=n.split(","),a=[],p=new Set;for(let e=0;e<s.length;++e){const n=s[e];if(!n)continue;const i=n.split(";");if(i.length>2)throw Object.defineProperty(new Error(`Invalid ${o.type} header`),"__NEXT_ERROR_CODE",{value:"E77",enumerable:!1,configurable:!0});let c=i[0].toLowerCase();if(!c)throw Object.defineProperty(new Error(`Invalid ${o.type} header`),"__NEXT_ERROR_CODE",{value:"E77",enumerable:!1,configurable:!0});const f={token:c,pos:e,q:1};if(t&&r.has(c)&&(f.pref=r.get(c).pos),p.add(f.token),2===i.length){const e=i[1],[t,r]=e.split("=");if(!r||"q"!==t&&"Q"!==t)throw Object.defineProperty(new Error(`Invalid ${o.type} header`),"__NEXT_ERROR_CODE",{value:"E77",enumerable:!1,configurable:!0});const n=parseFloat(r);if(0===n)continue;Number.isFinite(n)&&n<=1&&n>=.001&&(f.q=n)}a.push(f)}a.sort(((e,t)=>t.q!==e.q?t.q-e.q:t.pref!==e.pref?void 0===e.pref?1:void 0===t.pref?-1:e.pref-t.pref:e.pos-t.pos));const i=a.map((e=>e.token));if(!t||!t.length)return i;const c=[];for(const e of i)if("*"===e)for(const[e,t]of r)p.has(e)||c.push(t.orig);else{const t=e.toLowerCase();r.has(t)&&c.push(r.get(t).orig)}return c}function acceptLanguage(e="",t){return parse(e,t,{type:"accept-language",prefixMatch:!0})[0]||""}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"acceptLanguage",{enumerable:!0,get:function(){return acceptLanguage}});