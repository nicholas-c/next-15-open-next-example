"use strict";function _export(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{createPrerenderResumeDataCache:function(){return createPrerenderResumeDataCache},createRenderResumeDataCache:function(){return createRenderResumeDataCache},stringifyResumeDataCache:function(){return stringifyResumeDataCache}});const _invarianterror=require("../../shared/lib/invariant-error"),_cachestore=require("./cache-store");async function stringifyResumeDataCache(e){if("edge"===process.env.NEXT_RUNTIME)throw Object.defineProperty(new _invarianterror.InvariantError("`stringifyResumeDataCache` should not be called in edge runtime."),"__NEXT_ERROR_CODE",{value:"E602",enumerable:!1,configurable:!0});{if(0===e.fetch.size&&0===e.cache.size)return"null";const r={store:{fetch:Object.fromEntries(Array.from(e.fetch.entries())),cache:Object.fromEntries(await(0,_cachestore.serializeUseCacheCacheStore)(e.cache.entries())),encryptedBoundArgs:Object.fromEntries(Array.from(e.encryptedBoundArgs.entries()))}},{deflateSync:t}=require("node:zlib");return t(JSON.stringify(r)).toString("base64")}}function createPrerenderResumeDataCache(){return{cache:new Map,fetch:new Map,encryptedBoundArgs:new Map,decryptedBoundArgs:new Map}}function createRenderResumeDataCache(e){if("edge"===process.env.NEXT_RUNTIME)throw Object.defineProperty(new _invarianterror.InvariantError("`createRenderResumeDataCache` should not be called in edge runtime."),"__NEXT_ERROR_CODE",{value:"E556",enumerable:!1,configurable:!0});{if("string"!=typeof e)return e;if("null"===e)return{cache:new Map,fetch:new Map,encryptedBoundArgs:new Map,decryptedBoundArgs:new Map};const{inflateSync:r}=require("node:zlib"),t=JSON.parse(r(Buffer.from(e,"base64")).toString("utf-8"));return{cache:(0,_cachestore.parseUseCacheCacheStore)(Object.entries(t.store.cache)),fetch:new Map(Object.entries(t.store.fetch)),encryptedBoundArgs:new Map(Object.entries(t.store.encryptedBoundArgs)),decryptedBoundArgs:new Map}}}