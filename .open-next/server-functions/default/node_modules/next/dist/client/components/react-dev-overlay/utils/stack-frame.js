"use strict";function _export(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{getFrameSource:function(){return getFrameSource},getOriginalStackFrames:function(){return getOriginalStackFrames}});const _webpackmodulepath=require("./webpack-module-path");function getOriginalStackFrame(e,r){var a;async function t(){var a;if("rejected"===r.status)return Promise.reject(Object.defineProperty(new Error(r.reason),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0}));const t=r.value;return{error:!1,reason:null,external:!1,sourceStackFrame:e,originalStackFrame:t.originalStackFrame,originalCodeFrame:t.originalCodeFrame||null,sourcePackage:t.sourcePackage,ignored:(null==(a=t.originalStackFrame)?void 0:a.ignored)||!1}}return"file://"===e.file||(null==(a=e.file)?void 0:a.match(/https?:\/\//))?Promise.resolve({error:!1,reason:null,external:!0,sourceStackFrame:e,originalStackFrame:null,originalCodeFrame:null,sourcePackage:null,ignored:!0}):t().catch((r=>{var a,t;return{error:!0,reason:null!=(t=null!=(a=null==r?void 0:r.message)?a:null==r?void 0:r.toString())?t:"Unknown Error",external:!1,sourceStackFrame:e,originalStackFrame:null,originalCodeFrame:null,sourcePackage:null,ignored:!1}}))}async function getOriginalStackFrames(e,r,a){const t={frames:e,isServer:"server"===r,isEdgeServer:"edge-server"===r,isAppDirectory:a};let o,l;try{o=await fetch("/__nextjs_original-stack-frames",{method:"POST",body:JSON.stringify(t)})}catch(e){l=e+""}if(o&&o.ok&&204!==o.status){const r=await o.json();return Promise.all(e.map(((e,a)=>getOriginalStackFrame(e,r[a]))))}return o&&(l=await o.text()),Promise.all(e.map((e=>getOriginalStackFrame(e,{status:"rejected",reason:"Failed to fetch the original stack frames "+(l?": "+l:"")}))))}function getFrameSource(e){if(!e.file)return"";let r="";if((0,_webpackmodulepath.isWebpackInternalResource)(e.file))r=(0,_webpackmodulepath.formatFrameSourceFile)(e.file);else try{var a;const t=new URL(e.file);let o="";(null==(a=globalThis.location)?void 0:a.origin)!==t.origin&&("null"===t.origin?o+=t.protocol:o+=t.origin),o+=t.pathname,r=(0,_webpackmodulepath.formatFrameSourceFile)(o)}catch(a){r=(0,_webpackmodulepath.formatFrameSourceFile)(e.file)}return(0,_webpackmodulepath.isWebpackInternalResource)(e.file)||null==e.lineNumber||r&&(null!=e.column?r+=" ("+e.lineNumber+":"+e.column+")":r+=" ("+e.lineNumber+")"),r}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);