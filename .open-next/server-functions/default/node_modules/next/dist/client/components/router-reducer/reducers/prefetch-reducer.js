"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{prefetchQueue:function(){return prefetchQueue},prefetchReducer:function(){return prefetchReducer}});const _promisequeue=require("../../promise-queue"),_prefetchcacheutils=require("../prefetch-cache-utils"),prefetchQueue=new _promisequeue.PromiseQueue(5),prefetchReducer=process.env.__NEXT_CLIENT_SEGMENT_CACHE?identityReducerWhenSegmentCacheIsEnabled:prefetchReducerImpl;function identityReducerWhenSegmentCacheIsEnabled(e){return e}function prefetchReducerImpl(e,t){(0,_prefetchcacheutils.prunePrefetchCache)(e.prefetchCache);const{url:r}=t;return(0,_prefetchcacheutils.getOrCreatePrefetchCacheEntry)({url:r,nextUrl:e.nextUrl,prefetchCache:e.prefetchCache,kind:t.kind,tree:e.tree,allowAliasing:!0}),e}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);