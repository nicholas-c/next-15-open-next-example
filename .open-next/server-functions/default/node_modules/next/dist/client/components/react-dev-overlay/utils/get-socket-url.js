"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getSocketUrl",{enumerable:!0,get:function(){return getSocketUrl}});const _normalizedassetprefix=require("../../../../shared/lib/normalized-asset-prefix");function getSocketProtocol(e){let t=window.location.protocol;try{t=new URL(e).protocol}catch(e){}return"http:"===t?"ws:":"wss:"}function getSocketUrl(e){const t=(0,_normalizedassetprefix.normalizedAssetPrefix)(e),o=getSocketProtocol(e||"");if(URL.canParse(t))return t.replace(/^http/,"ws");const{hostname:r,port:s}=window.location;return o+"//"+r+(s?":"+s:"")+t}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);