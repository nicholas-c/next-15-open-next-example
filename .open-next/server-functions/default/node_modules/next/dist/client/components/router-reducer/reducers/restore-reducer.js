"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"restoreReducer",{enumerable:!0,get:function(){return restoreReducer}});const _createhreffromurl=require("../create-href-from-url"),_computechangedpath=require("../compute-changed-path"),_pprnavigations=require("../ppr-navigations");function restoreReducer(e,t){const{url:r,tree:o}=t,a=(0,_createhreffromurl.createHrefFromUrl)(r),u=o||e.tree,c=e.cache,n=process.env.__NEXT_PPR?(0,_pprnavigations.updateCacheNodeOnPopstateRestoration)(c,u):c;var p;return{canonicalUrl:a,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:e.focusAndScrollRef,cache:n,prefetchCache:e.prefetchCache,tree:u,nextUrl:null!=(p=(0,_computechangedpath.extractPathFromFlightRouterState)(u))?p:r.pathname}}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);