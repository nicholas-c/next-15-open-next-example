"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"parseStack",{enumerable:!0,get:function(){return parseStack}});const _stacktraceparser=require("next/dist/compiled/stacktrace-parser"),_ishydrationerror=require("../../is-hydration-error"),regexNextStatic=/\/_next(\/static\/.+)/;function parseStack(e){if(!e)return[];const r=e.replace(/^Error: /,"");if((0,_ishydrationerror.isReactHydrationErrorMessage)(r)){const{stack:t}=(0,_ishydrationerror.getHydrationErrorStackInfo)(r);t&&(e=t)}e=e.split("\n").map((e=>(e.includes("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/\(eval at [^()]* \(/,"(file://").replace(/\),.*$/g,")")),e))).join("\n");return(0,_stacktraceparser.parse)(e).map((e=>{try{const a=new URL(e.file),o=regexNextStatic.exec(a.pathname);if(o){var r,t;const s=null==(t=process.env.__NEXT_DIST_DIR)||null==(r=t.replace(/\\/g,"/"))?void 0:r.replace(/\/$/,"");s&&(e.file="file://"+s.concat(o.pop())+a.search)}}catch(e){}return e}))}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);