"use strict";function _export(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{getRedirectError:function(){return getRedirectError},getRedirectStatusCodeFromError:function(){return getRedirectStatusCodeFromError},getRedirectTypeFromError:function(){return getRedirectTypeFromError},getURLFromRedirectError:function(){return getURLFromRedirectError},permanentRedirect:function(){return permanentRedirect},redirect:function(){return redirect}});const _actionasyncstorageexternal=require("../../server/app-render/action-async-storage.external"),_redirectstatuscode=require("./redirect-status-code"),_redirecterror=require("./redirect-error");function getRedirectError(e,r,t){void 0===t&&(t=_redirectstatuscode.RedirectStatusCode.TemporaryRedirect);const o=Object.defineProperty(new Error(_redirecterror.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return o.digest=_redirecterror.REDIRECT_ERROR_CODE+";"+r+";"+e+";"+t+";",o}function redirect(e,r){const t=_actionasyncstorageexternal.actionAsyncStorage.getStore();throw getRedirectError(e,r||((null==t?void 0:t.isAction)?_redirecterror.RedirectType.push:_redirecterror.RedirectType.replace),_redirectstatuscode.RedirectStatusCode.TemporaryRedirect)}function permanentRedirect(e,r){throw void 0===r&&(r=_redirecterror.RedirectType.replace),getRedirectError(e,r,_redirectstatuscode.RedirectStatusCode.PermanentRedirect)}function getURLFromRedirectError(e){return(0,_redirecterror.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function getRedirectTypeFromError(e){if(!(0,_redirecterror.isRedirectError)(e))throw Object.defineProperty(new Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function getRedirectStatusCodeFromError(e){if(!(0,_redirecterror.isRedirectError)(e))throw Object.defineProperty(new Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);