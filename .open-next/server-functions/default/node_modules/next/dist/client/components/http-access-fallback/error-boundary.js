"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"HTTPAccessFallbackBoundary",{enumerable:!0,get:function(){return HTTPAccessFallbackBoundary}});const _interop_require_wildcard=require("@swc/helpers/_/_interop_require_wildcard"),_jsxruntime=require("react/jsx-runtime"),_react=_interop_require_wildcard._(require("react")),_navigationuntracked=require("../navigation-untracked"),_httpaccessfallback=require("./http-access-fallback"),_warnonce=require("../../../shared/lib/utils/warn-once"),_approutercontextsharedruntime=require("../../../shared/lib/app-router-context.shared-runtime");class HTTPAccessFallbackErrorBoundary extends _react.default.Component{componentDidCatch(){if("development"===process.env.NODE_ENV&&this.props.missingSlots&&this.props.missingSlots.size>0&&!this.props.missingSlots.has("children")){let e="No default component was found for a parallel route rendered on this page. Falling back to nearest NotFound boundary.\nLearn more: https://nextjs.org/docs/app/building-your-application/routing/parallel-routes#defaultjs\n\n";e+="Missing slots: "+Array.from(this.props.missingSlots).sort(((e,t)=>e.localeCompare(t))).map((e=>"@"+e)).join(", "),(0,_warnonce.warnOnce)(e)}}static getDerivedStateFromError(e){if((0,_httpaccessfallback.isHTTPAccessFallbackError)(e)){return{triggeredStatus:(0,_httpaccessfallback.getAccessFallbackHTTPStatus)(e)}}throw e}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.triggeredStatus?{triggeredStatus:void 0,previousPathname:e.pathname}:{triggeredStatus:t.triggeredStatus,previousPathname:e.pathname}}render(){const{notFound:e,forbidden:t,unauthorized:r,children:s}=this.props,{triggeredStatus:a}=this.state,n={[_httpaccessfallback.HTTPAccessErrorStatus.NOT_FOUND]:e,[_httpaccessfallback.HTTPAccessErrorStatus.FORBIDDEN]:t,[_httpaccessfallback.HTTPAccessErrorStatus.UNAUTHORIZED]:r};if(a){const o=a===_httpaccessfallback.HTTPAccessErrorStatus.NOT_FOUND&&e,c=a===_httpaccessfallback.HTTPAccessErrorStatus.FORBIDDEN&&t,i=a===_httpaccessfallback.HTTPAccessErrorStatus.UNAUTHORIZED&&r;return o||c||i?(0,_jsxruntime.jsxs)(_jsxruntime.Fragment,{children:[(0,_jsxruntime.jsx)("meta",{name:"robots",content:"noindex"}),"development"===process.env.NODE_ENV&&(0,_jsxruntime.jsx)("meta",{name:"boundary-next-error",content:(0,_httpaccessfallback.getAccessFallbackErrorTypeByStatus)(a)}),n[a]]}):s}return s}constructor(e){super(e),this.state={triggeredStatus:void 0,previousPathname:e.pathname}}}function HTTPAccessFallbackBoundary(e){let{notFound:t,forbidden:r,unauthorized:s,children:a}=e;const n=(0,_navigationuntracked.useUntrackedPathname)(),o=(0,_react.useContext)(_approutercontextsharedruntime.MissingSlotContext);return!!(t||r||s)?(0,_jsxruntime.jsx)(HTTPAccessFallbackErrorBoundary,{pathname:n,notFound:t,forbidden:r,unauthorized:s,missingSlots:o,children:a}):(0,_jsxruntime.jsx)(_jsxruntime.Fragment,{children:a})}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);