"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _default}});const _interop_require_default=require("@swc/helpers/_/_interop_require_default"),_platform=_interop_require_default._(require("next/dist/compiled/platform")),_cssescape=_interop_require_default._(require("next/dist/compiled/css.escape"));function nodeArray(e){if(!e)return[];if(Array.isArray(e))return e;if(void 0!==e.nodeType)return[e];if("string"==typeof e&&(e=document.querySelectorAll(e)),void 0!==e.length)return[].slice.call(e,0);throw Object.defineProperty(new TypeError("unexpected input "+String(e)),"__NEXT_ERROR_CODE",{value:"E545",enumerable:!1,configurable:!0})}function contextToElement(e){var t=e.context,r=e.label,n=void 0===r?"context-to-element":r,o=e.resolveDocument,i=e.defaultToDocument,a=nodeArray(t)[0];if(o&&a&&a.nodeType===Node.DOCUMENT_NODE&&(a=a.documentElement),!a&&i)return document.documentElement;if(!a)throw Object.defineProperty(new TypeError(n+" requires valid options.context"),"__NEXT_ERROR_CODE",{value:"E604",enumerable:!1,configurable:!0});if(a.nodeType!==Node.ELEMENT_NODE&&a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw Object.defineProperty(new TypeError(n+" requires options.context to be an Element"),"__NEXT_ERROR_CODE",{value:"E554",enumerable:!1,configurable:!0});return a}function getShadowHost(){for(var e=contextToElement({label:"get/shadow-host",context:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).context}),t=null;e;)t=e,e=e.parentNode;return t.nodeType===t.DOCUMENT_FRAGMENT_NODE&&t.host?t.host:null}function getDocument(e){return e?e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument||document:document}function isActiveElement(e){var t=contextToElement({label:"is/active-element",resolveDocument:!0,context:e});if(getDocument(t).activeElement===t)return!0;var r=getShadowHost({context:t});return!(!r||r.shadowRoot.activeElement!==t)}function getParents(){for(var e=[],t=contextToElement({label:"get/parents",context:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).context});t;)e.push(t),(t=t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null);return e}var names=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],name=null;function findMethodName(e){names.some((function(t){return!!e[t]&&(name=t,!0)}))}function elementMatches(e,t){return name||findMethodName(e),e[name](t)}var platform=JSON.parse(JSON.stringify(_platform.default)),os=platform.os.family||"",ANDROID="Android"===os,WINDOWS="Windows"===os.slice(0,7),OSX="OS X"===os,IOS="iOS"===os,BLINK="Blink"===platform.layout,GECKO="Gecko"===platform.layout,TRIDENT="Trident"===platform.layout,EDGE="EdgeHTML"===platform.layout,WEBKIT="WebKit"===platform.layout,version=parseFloat(platform.version),majorVersion=Math.floor(version);function before(){var e={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},t=document.createElement("iframe");t.setAttribute("style","position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;"),t.setAttribute("aria-live","off"),t.setAttribute("aria-busy","true"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t);var r=t.contentWindow,n=r.document;n.open(),n.close();var o=n.createElement("div");return n.body.appendChild(o),e.iframe=t,e.wrapper=o,e.window=r,e.document=n,e}function test(e,t){e.wrapper.innerHTML="";var r="string"==typeof t.element?e.document.createElement(t.element):t.element(e.wrapper,e.document),n=t.mutate&&t.mutate(r,e.wrapper,e.document);return n||!1===n||(n=r),!r.parentNode&&e.wrapper.appendChild(r),n&&n.focus&&n.focus(),t.validate?t.validate(r,n,e.document):e.document.activeElement===n}function after(e){e.activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),platform.is.IE10&&document.body.focus()):e.activeElement&&e.activeElement.focus&&e.activeElement.focus(),document.body.removeChild(e.iframe),window.scrollTop=e.windowScrollTop,window.scrollLeft=e.windowScrollLeft,document.body.scrollTop=e.bodyScrollTop,document.body.scrollLeft=e.bodyScrollLeft}function detectFocus(e){var t=before(),r={};return Object.keys(e).map((function(n){r[n]=test(t,e[n])})),after(t),r}platform.majorVersion=majorVersion,platform.is={ANDROID:ANDROID,WINDOWS:WINDOWS,OSX:OSX,IOS:IOS,BLINK:BLINK,GECKO:GECKO,TRIDENT:TRIDENT,EDGE:EDGE,WEBKIT:WEBKIT,IE9:TRIDENT&&9===majorVersion,IE10:TRIDENT&&10===majorVersion,IE11:TRIDENT&&11===majorVersion};var version$1="1.4.1";function readLocalStorage(e){var t=void 0;try{t=(t=window.localStorage&&window.localStorage.getItem(e))?JSON.parse(t):{}}catch(e){t={}}return t}function writeLocalStorage(e,t){if(document.hasFocus())try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}else try{window.localStorage&&window.localStorage.removeItem(e)}catch(e){}}var userAgent="undefined"!=typeof window&&window.navigator.userAgent||"",cacheKey="ally-supports-cache",cache=readLocalStorage(cacheKey);cache.userAgent===userAgent&&cache.version===version$1||(cache={}),cache.userAgent=userAgent,cache.version=version$1;var cache$1={get:function(){return cache},set:function(e){Object.keys(e).forEach((function(t){cache[t]=e[t]})),cache.time=(new Date).toISOString(),writeLocalStorage(cacheKey,cache)}};function cssShadowPiercingDeepCombinator(){var e=void 0;try{document.querySelector("html >>> :first-child"),e=">>>"}catch(t){try{document.querySelector("html /deep/ :first-child"),e="/deep/"}catch(t){e=""}}return e}var gif="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",focusAreaImgTabindex={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+gif+'">',e.querySelector("area")}},focusAreaTabindex={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+gif+'">',!1},validate:function(e,t,r){if(platform.is.GECKO)return!0;var n=e.querySelector("area");return n.focus(),r.activeElement===n}},focusAreaWithoutHref={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+gif+'">',e.querySelector("area")},validate:function(e,t,r){return!!platform.is.GECKO||r.activeElement===t}},focusAudioWithoutControls={name:"can-focus-audio-without-controls",element:"audio",mutate:function(e){try{e.setAttribute("src",gif)}catch(e){}}},invalidGif="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ",focusBrokenImageMap={element:"div",mutate:function(e){return e.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="'+invalidGif+'">',e.querySelector("area")}},focusChildrenOfFocusableFlexbox={element:"div",mutate:function(e){return e.setAttribute("tabindex","-1"),e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>',e.querySelector("span")}},focusFieldsetDisabled={element:"fieldset",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusFieldset={element:"fieldset",mutate:function(e){e.innerHTML="<legend>legend</legend><p>content</p>"}},focusFlexboxContainer={element:"span",mutate:function(e){e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>'}},focusFormDisabled={element:"form",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusImgIsmap={element:"a",mutate:function(e){return e.href="#void",e.innerHTML='<img ismap src="'+gif+'" alt="">',e.querySelector("img")}},focusImgUsemapTabindex={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+gif+'">',e.querySelector("img")}},focusInHiddenIframe={element:function(e,t){var r=t.createElement("iframe");e.appendChild(r);var n=r.contentWindow.document;return n.open(),n.close(),r},mutate:function(e){e.style.visibility="hidden";var t=e.contentWindow.document,r=t.createElement("input");return t.body.appendChild(r),r},validate:function(e){var t=e.contentWindow.document,r=t.querySelector("input");return t.activeElement===r}},result=!platform.is.WEBKIT;function focusInZeroDimensionObject(){return result}var focusInvalidTabindex={element:"div",mutate:function(e){e.setAttribute("tabindex","invalid-value")}},focusLabelTabindex={element:"label",mutate:function(e){e.setAttribute("tabindex","-1")},validate:function(e,t,r){e.offsetHeight;return e.focus(),r.activeElement===e}},svg="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==",focusObjectSvgHidden={element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",svg),e.setAttribute("width","200"),e.setAttribute("height","50"),e.style.visibility="hidden"}},focusObjectSvg={name:"can-focus-object-svg",element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",svg),e.setAttribute("width","200"),e.setAttribute("height","50")},validate:function(e,t,r){return!!platform.is.GECKO||r.activeElement===e}},result$1=!platform.is.IE9;function focusObjectSwf(){return result$1}var focusRedirectImgUsemap={element:"div",mutate:function(e){return e.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+gif+'">',e.querySelector("img")},validate:function(e,t,r){var n=e.querySelector("area");return r.activeElement===n}},focusRedirectLegend={element:"fieldset",mutate:function(e){return e.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">',!1},validate:function(e,t,r){var n=e.querySelector('input[tabindex="-1"]'),o=e.querySelector('input[tabindex="0"]');return e.focus(),e.querySelector("legend").focus(),(r.activeElement===n?"focusable":r.activeElement===o&&"tabbable")||""}},focusScrollBody={element:"div",mutate:function(e){return e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',e.querySelector("div")}},focusScrollContainerWithoutOverflow={element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusScrollContainer={element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusSummary={element:"details",mutate:function(e){return e.innerHTML="<summary>foo</summary><p>content</p>",e.firstElementChild}};function makeFocusableForeignObject(){var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");return e.width.baseVal.value=30,e.height.baseVal.value=30,e.appendChild(document.createElement("input")),e.lastChild.type="text",e}function focusSvgForeignObjectHack(e){if(!(e.ownerSVGElement||"svg"===e.nodeName.toLowerCase()))return!1;var t=makeFocusableForeignObject();e.appendChild(t);var r=t.querySelector("input");return r.focus(),r.disabled=!0,e.removeChild(t),!0}function generate(e){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>"}function focus(e){if(!e.focus)try{HTMLElement.prototype.focus.call(e)}catch(t){focusSvgForeignObjectHack(e)}}function validate(e,t,r){return focus(t),r.activeElement===t}var focusSvgFocusableAttribute={element:"div",mutate:function(e){return e.innerHTML=generate('<text focusable="true">a</text>'),e.querySelector("text")},validate:validate},focusSvgTabindexAttribute={element:"div",mutate:function(e){return e.innerHTML=generate('<text tabindex="0">a</text>'),e.querySelector("text")},validate:validate},focusSvgNegativeTabindexAttribute={element:"div",mutate:function(e){return e.innerHTML=generate('<text tabindex="-1">a</text>'),e.querySelector("text")},validate:validate},focusSvgUseTabindex={element:"div",mutate:function(e){return e.innerHTML=generate(['<g id="ally-test-target"><a xlink:href="#void"><text>link</text></a></g>','<use xlink:href="#ally-test-target" x="0" y="0" tabindex="-1" />'].join("")),e.querySelector("use")},validate:validate},focusSvgForeignobjectTabindex={element:"div",mutate:function(e){return e.innerHTML=generate('<foreignObject tabindex="-1"><input type="text" /></foreignObject>'),e.querySelector("foreignObject")||e.getElementsByTagName("foreignObject")[0]},validate:validate},result$2=Boolean(platform.is.GECKO&&"undefined"!=typeof SVGElement&&SVGElement.prototype.focus);function focusSvgInIframe(){return result$2}var focusSvg={element:"div",mutate:function(e){return e.innerHTML=generate(""),e.firstChild},validate:validate},focusTabindexTrailingCharacters={element:"div",mutate:function(e){e.setAttribute("tabindex","3x")}},focusTable={element:"table",mutate:function(e,t,r){var n=r.createDocumentFragment();n.innerHTML="<tr><td>cell</td></tr>",e.appendChild(n)}},focusVideoWithoutControls={element:"video",mutate:function(e){try{e.setAttribute("src",gif)}catch(e){}}},result$3=platform.is.GECKO||platform.is.TRIDENT||platform.is.EDGE;function tabsequenceAreaAtImgPosition(){return result$3}var testCallbacks={cssShadowPiercingDeepCombinator:cssShadowPiercingDeepCombinator,focusInZeroDimensionObject:focusInZeroDimensionObject,focusObjectSwf:focusObjectSwf,focusSvgInIframe:focusSvgInIframe,tabsequenceAreaAtImgPosition:tabsequenceAreaAtImgPosition},testDescriptions={focusAreaImgTabindex:focusAreaImgTabindex,focusAreaTabindex:focusAreaTabindex,focusAreaWithoutHref:focusAreaWithoutHref,focusAudioWithoutControls:focusAudioWithoutControls,focusBrokenImageMap:focusBrokenImageMap,focusChildrenOfFocusableFlexbox:focusChildrenOfFocusableFlexbox,focusFieldsetDisabled:focusFieldsetDisabled,focusFieldset:focusFieldset,focusFlexboxContainer:focusFlexboxContainer,focusFormDisabled:focusFormDisabled,focusImgIsmap:focusImgIsmap,focusImgUsemapTabindex:focusImgUsemapTabindex,focusInHiddenIframe:focusInHiddenIframe,focusInvalidTabindex:focusInvalidTabindex,focusLabelTabindex:focusLabelTabindex,focusObjectSvg:focusObjectSvg,focusObjectSvgHidden:focusObjectSvgHidden,focusRedirectImgUsemap:focusRedirectImgUsemap,focusRedirectLegend:focusRedirectLegend,focusScrollBody:focusScrollBody,focusScrollContainerWithoutOverflow:focusScrollContainerWithoutOverflow,focusScrollContainer:focusScrollContainer,focusSummary:focusSummary,focusSvgFocusableAttribute:focusSvgFocusableAttribute,focusSvgTabindexAttribute:focusSvgTabindexAttribute,focusSvgNegativeTabindexAttribute:focusSvgNegativeTabindexAttribute,focusSvgUseTabindex:focusSvgUseTabindex,focusSvgForeignobjectTabindex:focusSvgForeignobjectTabindex,focusSvg:focusSvg,focusTabindexTrailingCharacters:focusTabindexTrailingCharacters,focusTable:focusTable,focusVideoWithoutControls:focusVideoWithoutControls};function executeTests(){var e=detectFocus(testDescriptions);return Object.keys(testCallbacks).forEach((function(t){e[t]=testCallbacks[t]()})),e}var supportsCache=null;function _supports(){return supportsCache||((supportsCache=cache$1.get()).time||(cache$1.set(executeTests()),supportsCache=cache$1.get()),supportsCache)}var supports=void 0,validIntegerPatternNoTrailing=/^\s*(-|\+)?[0-9]+\s*$/,validIntegerPatternWithTrailing=/^\s*(-|\+)?[0-9]+.*$/;function isValidTabindex(e){supports||(supports=_supports());var t=supports.focusTabindexTrailingCharacters?validIntegerPatternWithTrailing:validIntegerPatternNoTrailing,r=contextToElement({label:"is/valid-tabindex",resolveDocument:!0,context:e}),n=r.hasAttribute("tabindex"),o=r.hasAttribute("tabIndex");if(!n&&!o)return!1;if((r.ownerSVGElement||"svg"===r.nodeName.toLowerCase())&&!supports.focusSvgTabindexAttribute)return!1;if(supports.focusInvalidTabindex)return!0;var i=r.getAttribute(n?"tabindex":"tabIndex");return"-32768"!==i&&Boolean(i&&t.test(i))}function tabindexValue(e){if(!isValidTabindex(e))return null;var t=e.hasAttribute("tabindex")?"tabindex":"tabIndex",r=parseInt(e.getAttribute(t),10);return isNaN(r)?-1:r}function isUserModifyWritable(e){var t=e.webkitUserModify||"";return Boolean(t&&-1!==t.indexOf("write"))}function hasCssOverflowScroll(e){return[e.getPropertyValue("overflow"),e.getPropertyValue("overflow-x"),e.getPropertyValue("overflow-y")].some((function(e){return"auto"===e||"scroll"===e}))}function hasCssDisplayFlex(e){return e.display.indexOf("flex")>-1}function isScrollableContainer(e,t,r,n){return("div"===t||"span"===t)&&(!(r&&"div"!==r&&"span"!==r&&!hasCssOverflowScroll(n))&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth))}var supports$1=void 0;function isFocusRelevantRules(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.except,n=void 0===r?{flexbox:!1,scrollable:!1,shadow:!1}:r;supports$1||(supports$1=_supports());var o=contextToElement({label:"is/focus-relevant",resolveDocument:!0,context:t});if(!n.shadow&&o.shadowRoot)return!0;var i=o.nodeName.toLowerCase();if("input"===i&&"hidden"===o.type)return!1;if("input"===i||"select"===i||"button"===i||"textarea"===i)return!0;if("legend"===i&&supports$1.focusRedirectLegend)return!0;if("label"===i)return!0;if("area"===i)return!0;if("a"===i&&o.hasAttribute("href"))return!0;if("object"===i&&o.hasAttribute("usemap"))return!1;if("object"===i){var a=o.getAttribute("type");if(!supports$1.focusObjectSvg&&"image/svg+xml"===a)return!1;if(!supports$1.focusObjectSwf&&"application/x-shockwave-flash"===a)return!1}if("iframe"===i||"object"===i)return!0;if("embed"===i||"keygen"===i)return!0;if(o.hasAttribute("contenteditable"))return!0;if("audio"===i&&(supports$1.focusAudioWithoutControls||o.hasAttribute("controls")))return!0;if("video"===i&&(supports$1.focusVideoWithoutControls||o.hasAttribute("controls")))return!0;if(supports$1.focusSummary&&"summary"===i)return!0;var s=isValidTabindex(o);if("img"===i&&o.hasAttribute("usemap"))return s&&supports$1.focusImgUsemapTabindex||supports$1.focusRedirectImgUsemap;if(supports$1.focusTable&&("table"===i||"td"===i))return!0;if(supports$1.focusFieldset&&"fieldset"===i)return!0;var u="svg"===i,l=o.ownerSVGElement,c=o.getAttribute("focusable"),f=tabindexValue(o);if("use"===i&&null!==f&&!supports$1.focusSvgUseTabindex)return!1;if("foreignobject"===i)return null!==f&&supports$1.focusSvgForeignobjectTabindex;if(elementMatches(o,"svg a")&&o.hasAttribute("xlink:href"))return!0;if((u||l)&&o.focus&&!supports$1.focusSvgNegativeTabindexAttribute&&f<0)return!1;if(u)return s||supports$1.focusSvg||supports$1.focusSvgInIframe||Boolean(supports$1.focusSvgFocusableAttribute&&c&&"true"===c);if(l){if(supports$1.focusSvgTabindexAttribute&&s)return!0;if(supports$1.focusSvgFocusableAttribute)return"true"===c}if(s)return!0;var d=window.getComputedStyle(o,null);if(isUserModifyWritable(d))return!0;if(supports$1.focusImgIsmap&&"img"===i&&o.hasAttribute("ismap")){var m=getParents({context:o}).some((function(e){return"a"===e.nodeName.toLowerCase()&&e.hasAttribute("href")}));if(m)return!0}if(!n.scrollable&&supports$1.focusScrollContainer)if(supports$1.focusScrollContainerWithoutOverflow){if(isScrollableContainer(o,i))return!0}else if(hasCssOverflowScroll(d))return!0;if(!n.flexbox&&supports$1.focusFlexboxContainer&&hasCssDisplayFlex(d))return!0;var p=o.parentElement;if(!n.scrollable&&p){var b=p.nodeName.toLowerCase(),v=window.getComputedStyle(p,null);if(supports$1.focusScrollBody&&isScrollableContainer(p,i,b,v))return!0;if(supports$1.focusChildrenOfFocusableFlexbox&&hasCssDisplayFlex(v))return!0}return!1}isFocusRelevantRules.except=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return isFocusRelevantRules({context:t,except:e})};return t.rules=isFocusRelevantRules,t};var isFocusRelevant=isFocusRelevantRules.except({});function findIndex(e,t){if(e.findIndex)return e.findIndex(t);var r=e.length;if(0===r)return-1;for(var n=0;n<r;n++)if(t(e[n],n,e))return n;return-1}function getContentDocument(e){try{return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.getSVGDocument&&e.getSVGDocument()||null}catch(e){return null}}function getWindow(e){return getDocument(e).defaultView||window}var shadowPrefix=void 0;function selectInShadows(e){if("string"!=typeof shadowPrefix){var t=cssShadowPiercingDeepCombinator();t&&(shadowPrefix=", html "+t+" ")}return shadowPrefix?e+shadowPrefix+e.replace(/\s*,\s*/g,",").split(",").join(shadowPrefix):e}var selector=void 0;function findDocumentHostElement(e){if(selector||(selector=selectInShadows("object, iframe")),void 0!==e._frameElement)return e._frameElement;e._frameElement=null;var t=e.parent.document.querySelectorAll(selector);return[].some.call(t,(function(t){return getContentDocument(t)===e.document&&(e._frameElement=t,!0)})),e._frameElement}function getFrameElement(e){var t=getWindow(e);if(!t.parent||t.parent===t)return null;try{return t.frameElement||findDocumentHostElement(t)}catch(e){return null}}var notRenderedElementsPattern=/^(area)$/;function computedStyle(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function notDisplayed(e){return e.some((function(e){return"none"===computedStyle(e,"display")}))}function notVisible(e){var t=findIndex(e,(function(e){var t=computedStyle(e,"visibility");return"hidden"===t||"collapse"===t}));if(-1===t)return!1;var r=findIndex(e,(function(e){return"visible"===computedStyle(e,"visibility")}));return-1===r||t<r}function collapsedParent(e){var t=1;return"summary"===e[0].nodeName.toLowerCase()&&(t=2),e.slice(t).some((function(e){return"details"===e.nodeName.toLowerCase()&&!1===e.open}))}function isVisibleRules(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.except,n=void 0===r?{notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}:r,o=contextToElement({label:"is/visible",resolveDocument:!0,context:t}),i=o.nodeName.toLowerCase();if(!n.notRendered&&notRenderedElementsPattern.test(i))return!0;var a=getParents({context:o}),s="audio"===i&&!o.hasAttribute("controls");if(!n.cssDisplay&&notDisplayed(s?a.slice(1):a))return!1;if(!n.cssVisibility&&notVisible(a))return!1;if(!n.detailsElement&&collapsedParent(a))return!1;if(!n.browsingContext){var u=getFrameElement(o),l=isVisibleRules.except(n);if(u&&!l(u))return!1}return!0}isVisibleRules.except=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return isVisibleRules({context:t,except:e})};return t.rules=isVisibleRules,t};var isVisible=isVisibleRules.except({});function getMapByName(e,t){return t.querySelector('map[name="'+(0,_cssescape.default)(e)+'"]')||null}function getImageOfArea(e){var t=e.parentElement;return t.name&&"map"===t.nodeName.toLowerCase()&&getDocument(e).querySelector('img[usemap="#'+(0,_cssescape.default)(t.name)+'"]')||null}var supports$2=void 0;function isValidArea(e){supports$2||(supports$2=_supports());var t=contextToElement({label:"is/valid-area",context:e});if("area"!==t.nodeName.toLowerCase())return!1;var r=t.hasAttribute("tabindex");if(!supports$2.focusAreaTabindex&&r)return!1;var n=getImageOfArea(t);if(!n||!isVisible(n))return!1;if(!supports$2.focusBrokenImageMap&&(!n.complete||!n.naturalHeight||n.offsetWidth<=0||n.offsetHeight<=0))return!1;if(!supports$2.focusAreaWithoutHref&&!t.href)return supports$2.focusAreaTabindex&&r||supports$2.focusAreaImgTabindex&&n.hasAttribute("tabindex");var o=getParents({context:n}).slice(1).some((function(e){var t=e.nodeName.toLowerCase();return"button"===t||"a"===t}));return!o}var supports$3=void 0,disabledElementsPattern=void 0,disabledElements={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0};function isNativeDisabledSupported(e){supports$3||((supports$3=_supports()).focusFieldsetDisabled&&delete disabledElements.fieldset,supports$3.focusFormDisabled&&delete disabledElements.form,disabledElementsPattern=new RegExp("^("+Object.keys(disabledElements).join("|")+")$"));var t=contextToElement({label:"is/native-disabled-supported",context:e}).nodeName.toLowerCase();return Boolean(disabledElementsPattern.test(t))}var supports$4=void 0;function isDisabledFieldset(e){return"fieldset"===e.nodeName.toLowerCase()&&e.disabled}function isDisabledForm(e){return"form"===e.nodeName.toLowerCase()&&e.disabled}function isDisabled(e){supports$4||(supports$4=_supports());var t=contextToElement({label:"is/disabled",context:e});if(t.hasAttribute("data-ally-disabled"))return!0;if(!isNativeDisabledSupported(t))return!1;if(t.disabled)return!0;var r=getParents({context:t});return!!r.some(isDisabledFieldset)||!(supports$4.focusFormDisabled||!r.some(isDisabledForm))}function isOnlyTabbableRules(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.except,n=void 0===r?{onlyFocusableBrowsingContext:!1,visible:!1}:r,o=contextToElement({label:"is/only-tabbable",resolveDocument:!0,context:t});if(!n.visible&&!isVisible(o))return!1;if(!n.onlyFocusableBrowsingContext&&(platform.is.GECKO||platform.is.TRIDENT||platform.is.EDGE)){var i=getFrameElement(o);if(i&&tabindexValue(i)<0)return!1}var a=o.nodeName.toLowerCase(),s=tabindexValue(o);return"label"===a&&platform.is.GECKO?null!==s&&s>=0:!!(platform.is.GECKO&&o.ownerSVGElement&&!o.focus&&"a"===a&&o.hasAttribute("xlink:href")&&platform.is.GECKO)}isOnlyTabbableRules.except=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return isOnlyTabbableRules({context:t,except:e})};return t.rules=isOnlyTabbableRules,t};var isOnlyTabbable=isOnlyTabbableRules.except({}),supports$5=void 0;function isOnlyFocusRelevant(e){var t=e.nodeName.toLowerCase();if("embed"===t||"keygen"===t)return!0;var r=tabindexValue(e);if(e.shadowRoot&&null===r)return!0;if("label"===t)return!supports$5.focusLabelTabindex||null===r;if("legend"===t)return null===r;if(supports$5.focusSvgFocusableAttribute&&(e.ownerSVGElement||"svg"===t)){var n=e.getAttribute("focusable");return n&&"false"===n}return"img"===t&&e.hasAttribute("usemap")?null===r||!supports$5.focusImgUsemapTabindex:"area"===t&&!isValidArea(e)}function isFocusableRules(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.except,n=void 0===r?{disabled:!1,visible:!1,onlyTabbable:!1}:r;supports$5||(supports$5=_supports());var o=isOnlyTabbable.rules.except({onlyFocusableBrowsingContext:!0,visible:n.visible}),i=contextToElement({label:"is/focusable",resolveDocument:!0,context:t});if(!isFocusRelevant.rules({context:i,except:n})||isOnlyFocusRelevant(i))return!1;if(!n.disabled&&isDisabled(i))return!1;if(!n.onlyTabbable&&o(i))return!1;if(!n.visible){var a={context:i,except:{}};if(supports$5.focusInHiddenIframe&&(a.except.browsingContext=!0),supports$5.focusObjectSvgHidden)"object"===i.nodeName.toLowerCase()&&(a.except.cssVisibility=!0);if(!isVisible.rules(a))return!1}var s=getFrameElement(i);if(s&&!("object"!==s.nodeName.toLowerCase()||supports$5.focusInZeroDimensionObject||s.offsetWidth&&s.offsetHeight))return!1;return!("svg"===i.nodeName.toLowerCase()&&supports$5.focusSvgInIframe&&!s&&null===i.getAttribute("tabindex"))}isFocusableRules.except=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return isFocusableRules({context:t,except:e})};return t.rules=isFocusableRules,t};var isFocusable=isFocusableRules.except({});function createFilter(e){var t=function(t){return t.shadowRoot||e(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};return t.acceptNode=t,t}var PossiblyFocusableFilter=createFilter(isFocusRelevant);function queryFocusableStrict(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.includeContext,n=e.includeOnlyTabbable,o=e.strategy;t||(t=document.documentElement);for(var i=isFocusable.rules.except({onlyTabbable:n}),a=getDocument(t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,"all"===o?PossiblyFocusableFilter:createFilter(i),!1),s=[];a.nextNode();)a.currentNode.shadowRoot?(i(a.currentNode)&&s.push(a.currentNode),s=s.concat(queryFocusableStrict({context:a.currentNode.shadowRoot,includeOnlyTabbable:n,strategy:o}))):s.push(a.currentNode);return r&&("all"===o?isFocusRelevant(t)&&s.unshift(t):i(t)&&s.unshift(t)),s}var supports$6=void 0,selector$1=void 0;function selector$2(){return supports$6||(supports$6=_supports()),"string"==typeof selector$1?selector$1:selector$1=selectInShadows(selector$1=(supports$6.focusTable?"table, td,":"")+(supports$6.focusFieldset?"fieldset,":"")+"svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,"+(supports$6.focusAudioWithoutControls?"audio,":"audio[controls],")+(supports$6.focusVideoWithoutControls?"video,":"video[controls],")+(supports$6.focusSummary?"summary,":"")+"[tabindex],[contenteditable]")}function queryFocusableQuick(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.includeContext,n=e.includeOnlyTabbable,o=selector$2(),i=t.querySelectorAll(o),a=isFocusable.rules.except({onlyTabbable:n}),s=[].filter.call(i,a);return r&&a(t)&&s.unshift(t),s}function queryFocusable(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.includeContext,n=e.includeOnlyTabbable,o=e.strategy,i=void 0===o?"quick":o,a={context:contextToElement({label:"query/focusable",resolveDocument:!0,defaultToDocument:!0,context:t}),includeContext:r,includeOnlyTabbable:n,strategy:i};if("quick"===i)return queryFocusableQuick(a);if("strict"===i||"all"===i)return queryFocusableStrict(a);throw Object.defineProperty(new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]'),"__NEXT_ERROR_CODE",{value:"E594",enumerable:!1,configurable:!0})}var supports$7=void 0,focusableElementsPattern=/^(fieldset|table|td|body)$/;function isTabbableRules(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.except,n=void 0===r?{flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}:r;supports$7||(supports$7=_supports());var o=contextToElement({label:"is/tabbable",resolveDocument:!0,context:t});if(platform.is.BLINK&&platform.is.ANDROID&&platform.majorVersion>42)return!1;var i=getFrameElement(o);if(i){if(platform.is.WEBKIT&&platform.is.IOS)return!1;if(tabindexValue(i)<0)return!1;if(!n.visible&&(platform.is.BLINK||platform.is.WEBKIT)&&!isVisible(i))return!1;if("object"===i.nodeName.toLowerCase()){var a="Chrome"===platform.name&&platform.majorVersion>=54||"Opera"===platform.name&&platform.majorVersion>=41;if(platform.is.WEBKIT||platform.is.BLINK&&!a)return!1}}var s=o.nodeName.toLowerCase(),u=tabindexValue(o),l=null===u?null:u>=0;if(platform.is.EDGE&&platform.majorVersion>=14&&i&&o.ownerSVGElement&&u<0)return!0;var c=!1!==l,f=null!==u&&u>=0;if(o.hasAttribute("contenteditable"))return c;if(focusableElementsPattern.test(s)&&!0!==l)return!1;if(platform.is.WEBKIT&&platform.is.IOS){var d="input"===s&&"text"===o.type||"password"===o.type||"select"===s||"textarea"===s||o.hasAttribute("contenteditable");if(!d)d=isUserModifyWritable(window.getComputedStyle(o,null));if(!d)return!1}if("use"===s&&null!==u&&(platform.is.BLINK||platform.is.WEBKIT&&9===platform.majorVersion))return!0;if(elementMatches(o,"svg a")&&o.hasAttribute("xlink:href")){if(c)return!0;if(o.focus&&!supports$7.focusSvgNegativeTabindexAttribute)return!0}if("svg"===s&&supports$7.focusSvgInIframe&&c)return!0;if(platform.is.TRIDENT||platform.is.EDGE){if("svg"===s)return!!supports$7.focusSvg||(o.hasAttribute("focusable")||f);if(o.ownerSVGElement)return!(!supports$7.focusSvgTabindexAttribute||!f)||o.hasAttribute("focusable")}if(void 0===o.tabIndex)return Boolean(n.onlyTabbable);if("audio"===s){if(!o.hasAttribute("controls"))return!1;if(platform.is.BLINK)return!0}if("video"===s)if(o.hasAttribute("controls")){if(platform.is.BLINK||platform.is.GECKO)return!0}else if(platform.is.TRIDENT||platform.is.EDGE)return!1;if("object"===s&&(platform.is.BLINK||platform.is.WEBKIT))return!1;if("iframe"===s)return!1;if(!n.scrollable&&platform.is.GECKO&&hasCssOverflowScroll(window.getComputedStyle(o,null)))return c;if(platform.is.TRIDENT||platform.is.EDGE){if("area"===s){var m=getImageOfArea(o);if(m&&tabindexValue(m)<0)return!1}var p=window.getComputedStyle(o,null);if(isUserModifyWritable(p))return o.tabIndex>=0;if(!n.flexbox&&hasCssDisplayFlex(p))return null!==u?f:isFocusRelevantWithoutFlexbox(o)&&isTabbableWithoutFlexbox(o);if(isScrollableContainer(o,s))return!1;var b=o.parentElement;if(b){var v=b.nodeName.toLowerCase(),g=window.getComputedStyle(b,null);if(isScrollableContainer(b,s,v,g))return!1;if(hasCssDisplayFlex(g))return f}}return o.tabIndex>=0}isTabbableRules.except=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return isTabbableRules({context:t,except:e})};return t.rules=isTabbableRules,t};var isFocusRelevantWithoutFlexbox=isFocusRelevant.rules.except({flexbox:!0}),isTabbableWithoutFlexbox=isTabbableRules.except({flexbox:!0}),isTabbable=isTabbableRules.except({});function queryTabbable(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.includeContext,n=e.includeOnlyTabbable,o=e.strategy,i=isTabbable.rules.except({onlyTabbable:n});return queryFocusable({context:t,includeContext:r,includeOnlyTabbable:n,strategy:o}).filter(i)}function compareDomPosition(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function sortDomOrder(e){return e.sort(compareDomPosition)}function getFirstSuccessorOffset(e,t){return findIndex(e,(function(e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}))}function findInsertionOffsets(e,t,r){var n=[];return t.forEach((function(t){var o=!0,i=e.indexOf(t);-1===i&&(i=getFirstSuccessorOffset(e,t),o=!1),-1===i&&(i=e.length);var a=nodeArray(r?r(t):t);a.length&&n.push({offset:i,replace:o,elements:a})})),n}function insertElementsAtOffsets(e,t){var r=0;t.sort((function(e,t){return e.offset-t.offset})),t.forEach((function(t){var n=t.replace?1:0,o=[t.offset+r,n].concat(t.elements);e.splice.apply(e,o),r+=t.elements.length-n}))}function mergeInDomOrder(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.list,r=e.elements,n=e.resolveElement,o=t.slice(0),i=nodeArray(r).slice(0);return sortDomOrder(i),insertElementsAtOffsets(o,findInsertionOffsets(o,i,n)),o}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw Object.defineProperty(new TypeError("Cannot call a class as a function"),"__NEXT_ERROR_CODE",{value:"E601",enumerable:!1,configurable:!0})}var Maps=function(){function e(t){_classCallCheck(this,e),this._document=getDocument(t),this.maps={}}return _createClass(e,[{key:"getAreasFor",value:function(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}},{key:"addMapByName",value:function(e){var t=getMapByName(e,this._document);t&&(this.maps[t.name]=queryTabbable({context:t}))}},{key:"extractAreasFromList",value:function(e){return e.filter((function(e){if("area"!==e.nodeName.toLowerCase())return!0;var t=e.parentNode;return this.maps[t.name]||(this.maps[t.name]=[]),this.maps[t.name].push(e),!1}),this)}}]),e}();function sortArea(e,t){var r=t.querySelectorAll("img[usemap]"),n=new Maps(t),o=n.extractAreasFromList(e);return r.length?mergeInDomOrder({list:o,elements:r,resolveElement:function(e){var t=e.getAttribute("usemap").slice(1);return n.getAreasFor(t)}}):o}var _createClass$1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _classCallCheck$1(e,t){if(!(e instanceof t))throw Object.defineProperty(new TypeError("Cannot call a class as a function"),"__NEXT_ERROR_CODE",{value:"E601",enumerable:!1,configurable:!0})}var Shadows=function(){function e(t,r){_classCallCheck$1(this,e),this.context=t,this.sortElements=r,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}return _createClass$1(e,[{key:"_registerHost",value:function(e){if(!e._sortingId){e._sortingId="shadow-"+this.hostCounter++,this.hosts[e._sortingId]=e;var t=getShadowHost({context:e});t?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e)}}},{key:"_registerHostParent",value:function(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}},{key:"_registerElement",value:function(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}},{key:"extractElements",value:function(e){return e.filter((function(e){var t=getShadowHost({context:e});return!t||(this._registerHost(t),this._registerElement(e,t),!1)}),this)}},{key:"sort",value:function(e){var t=this._injectHosts(e);return t=this._replaceHosts(t),this._cleanup(),t}},{key:"_injectHosts",value:function(e){return Object.keys(this.hosts).forEach((function(e){var t=this.elements[e],r=this.inHost[e],n=this.hosts[e].shadowRoot;this.elements[e]=this._merge(t,r,n)}),this),this._merge(e,this.inDocument,this.context)}},{key:"_merge",value:function(e,t,r){var n=mergeInDomOrder({list:e,elements:t});return this.sortElements(n,r)}},{key:"_replaceHosts",value:function(e){return mergeInDomOrder({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}},{key:"_resolveHostElement",value:function(e){var t=mergeInDomOrder({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),r=tabindexValue(e);return null!==r&&r>-1?[e].concat(t):t}},{key:"_cleanup",value:function(){Object.keys(this.hosts).forEach((function(e){delete this.hosts[e]._sortingId}),this)}}]),e}();function sortShadowed(e,t,r){var n=new Shadows(t,r),o=n.extractElements(e);return o.length===e.length?r(e):n.sort(o)}function sortTabindex(e){var t={},r=[],n=e.filter((function(e){var n=e.tabIndex;return void 0===n&&(n=tabindexValue(e)),n<=0||null==n||(t[n]||(t[n]=[],r.push(n)),t[n].push(e),!1)}));return r.sort().map((function(e){return t[e]})).reduceRight((function(e,t){return t.concat(e)}),n)}var supports$8=void 0;function moveContextToBeginning(e,t){var r=e.indexOf(t);return r>0?e.splice(r,1).concat(e):e}function sortElements(e,t){return supports$8.tabsequenceAreaAtImgPosition&&(e=sortArea(e,t)),e=sortTabindex(e)}function queryTabsequence(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.includeContext,n=e.includeOnlyTabbable,o=e.strategy;supports$8||(supports$8=_supports());var i=nodeArray(t)[0]||document.documentElement,a=queryTabbable({context:i,includeContext:r,includeOnlyTabbable:n,strategy:o});return a=document.body.createShadowRoot&&platform.is.BLINK?sortShadowed(a,i,sortElements):sortElements(a,i),r&&(a=moveContextToBeginning(a,i)),a}for(var keycode={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,delete:46,backspace:8,_alias:{91:[92,93,224]}},n=1;n<26;n++)keycode["f"+n]=n+111;for(var _n=0;_n<10;_n++){var code=_n+48,numCode=_n+96;keycode[_n]=code,keycode["num-"+_n]=numCode,keycode._alias[code]=[numCode]}for(var _n2=0;_n2<26;_n2++){var _code=_n2+65,name$1=String.fromCharCode(_code).toLowerCase();keycode[name$1]=_code}var modifier={alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},modifierSequence=Object.keys(modifier).map((function(e){return modifier[e]}));function createExpectedModifiers(e){var t=!!e&&null;return{altKey:t,ctrlKey:t,metaKey:t,shiftKey:t}}function resolveModifiers(e){var t=createExpectedModifiers(-1!==e.indexOf("*"));return e.forEach((function(e){if("*"!==e){var r=!0,n=e.slice(0,1);"?"===n?r=null:"!"===n&&(r=!1),!0!==r&&(e=e.slice(1));var o=modifier[e];if(!o)throw Object.defineProperty(new TypeError('Unknown modifier "'+e+'"'),"__NEXT_ERROR_CODE",{value:"E530",enumerable:!1,configurable:!0});t[o]=r}})),t}function resolveKey(e){var t=keycode[e]||parseInt(e,10);if(!t||"number"!=typeof t||isNaN(t))throw Object.defineProperty(new TypeError('Unknown key "'+e+'"'),"__NEXT_ERROR_CODE",{value:"E536",enumerable:!1,configurable:!0});return[t].concat(keycode._alias[t]||[])}function matchModifiers(e,t){return!modifierSequence.some((function(r){return"boolean"==typeof e[r]&&Boolean(t[r])!==e[r]}))}function keyBinding(e){return e.split(/\s+/).map((function(e){var t=e.split("+"),r=resolveModifiers(t.slice(0,-1));return{keyCodes:resolveKey(t.slice(-1)),modifiers:r,matchModifiers:matchModifiers.bind(null,r)}}))}function getParentComparator(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parent,r=e.element,n=e.includeSelf;if(t)return function(e){return Boolean(n&&e===t||t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(r)return function(e){return Boolean(n&&r===e||e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw Object.defineProperty(new TypeError("util/compare-position#getParentComparator required either options.parent or options.element"),"__NEXT_ERROR_CODE",{value:"E578",enumerable:!1,configurable:!0})}function whenKey(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},r=nodeArray(e.context)[0]||document.documentElement;delete e.context;var n=nodeArray(e.filter);delete e.filter;var o=Object.keys(e);if(!o.length)throw Object.defineProperty(new TypeError("when/key requires at least one option key"),"__NEXT_ERROR_CODE",{value:"E566",enumerable:!1,configurable:!0});var i=function(e){e.keyCodes.forEach((function(r){t[r]||(t[r]=[]),t[r].push(e)}))};o.forEach((function(t){if("function"!=typeof e[t])throw Object.defineProperty(new TypeError('when/key requires option["'+t+'"] to be a function'),"__NEXT_ERROR_CODE",{value:"E595",enumerable:!1,configurable:!0});var r=function(r){return r.callback=e[t],r};keyBinding(t).map(r).forEach(i)}));var a=function(e){if(!e.defaultPrevented){if(n.length){var o=getParentComparator({element:e.target,includeSelf:!0});if(n.some(o))return}var i=e.keyCode||e.which;t[i]&&t[i].forEach((function(t){t.matchModifiers(e)&&t.callback.call(r,e,s)}))}};r.addEventListener("keydown",a,!1);var s=function(){r.removeEventListener("keydown",a,!1)};return{disengage:s}}function _default(e){let{context:t}=void 0===e?{}:e;return t||(t=document.documentElement),queryTabsequence(),whenKey({"?alt+?shift+tab":function(e){e.preventDefault();var r=queryTabsequence({context:t}),n=e.shiftKey,o=r[0],i=r[r.length-1],a=n?i:o;if(isActiveElement(n?o:i))a.focus();else{var s=void 0;if(r.some((function(e,t){return!!isActiveElement(e)&&(s=t,!0)})))r[s+(n?-1:1)].focus();else o.focus()}}})}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);