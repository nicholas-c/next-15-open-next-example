"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ShadowPortal",{enumerable:!0,get:function(){return ShadowPortal}});const _interop_require_wildcard=require("@swc/helpers/_/_interop_require_wildcard"),_react=_interop_require_wildcard._(require("react")),_reactdom=require("react-dom"),_shared=require("../../shared");function ShadowPortal(e){let{children:r}=e,t=_react.useRef(null),o=_react.useRef(null),[,a]=_react.useState();return _react.useLayoutEffect((()=>{const e=document;if(t.current=e.createElement("nextjs-portal"),"undefined"!=typeof localStorage){const e=localStorage.getItem(_shared.STORAGE_KEY_THEME);"dark"===e?(t.current.classList.add("dark"),t.current.classList.remove("light")):"light"===e&&(t.current.classList.remove("dark"),t.current.classList.add("light"))}return o.current=t.current.attachShadow({mode:"open"}),e.body.appendChild(t.current),a({}),()=>{t.current&&t.current.ownerDocument&&t.current.ownerDocument.body.removeChild(t.current)}}),[]),o.current?(0,_reactdom.createPortal)(r,o.current):null}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);