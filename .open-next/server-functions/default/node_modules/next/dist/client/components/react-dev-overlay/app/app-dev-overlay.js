"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AppDevOverlay",{enumerable:!0,get:function(){return AppDevOverlay}});const _jsxruntime=require("react/jsx-runtime"),_react=require("react"),_appdevoverlayerrorboundary=require("./app-dev-overlay-error-boundary"),_fontstyles=require("../font/font-styles"),_devoverlay=require("../ui/dev-overlay"),_useerrorhandler=require("../../errors/use-error-handler"),_isnextroutererror=require("../../is-next-router-error");function readSsrError(){if("undefined"==typeof document)return null;const e=document.querySelector("template[data-next-error-message]");if(e){const r=e.getAttribute("data-next-error-message"),t=e.getAttribute("data-next-error-stack"),o=e.getAttribute("data-next-error-digest"),n=Object.defineProperty(new Error(r),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return o&&(n.digest=o),(0,_isnextroutererror.isNextRouterError)(n)?null:(n.stack=t||"",n)}return null}function ReplaySsrOnlyErrors(){if("production"!==process.env.NODE_ENV){const e=readSsrError();(0,_react.useEffect)((()=>{null!==e&&(0,_useerrorhandler.handleClientError)(e,[])}),[e])}return null}function AppDevOverlay(e){let{state:r,globalError:t,children:o}=e;const[n,s]=(0,_react.useState)(!1);return(0,_jsxruntime.jsxs)(_jsxruntime.Fragment,{children:[(0,_jsxruntime.jsxs)(_appdevoverlayerrorboundary.AppDevOverlayErrorBoundary,{globalError:t,onError:s,children:[(0,_jsxruntime.jsx)(ReplaySsrOnlyErrors,{}),o]}),(0,_jsxruntime.jsx)(_fontstyles.FontStyles,{}),(0,_jsxruntime.jsx)(_devoverlay.DevOverlay,{state:r,isErrorOverlayOpen:n,setIsErrorOverlayOpen:s})]})}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);