"use strict";function _export(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{DEV_TOOLS_INFO_USER_PREFERENCES_STYLES:function(){return DEV_TOOLS_INFO_USER_PREFERENCES_STYLES},UserPreferences:function(){return UserPreferences}});const _interop_require_default=require("@swc/helpers/_/_interop_require_default"),_tagged_template_literal_loose=require("@swc/helpers/_/_tagged_template_literal_loose"),_jsxruntime=require("react/jsx-runtime"),_react=require("react"),_devtoolsinfo=require("./dev-tools-info"),_css=require("../../../../../utils/css"),_eyeicon=_interop_require_default._(require("../../../../icons/eye-icon")),_shared=require("../../../../../shared"),_lighticon=_interop_require_default._(require("../../../../icons/light-icon")),_darkicon=_interop_require_default._(require("../../../../icons/dark-icon")),_systemicon=_interop_require_default._(require("../../../../icons/system-icon"));function _templateObject(){const e=_tagged_template_literal_loose._(["\n  .preferences-container {\n    padding: 8px 6px;\n    width: 100%;\n  }\n\n  @media (min-width: 576px) {\n    .preferences-container {\n      width: 480px;\n    }\n  }\n\n  .preference-section:first-child {\n    padding-top: 0;\n  }\n\n  .preference-section {\n    padding: 12px 0;\n    border-bottom: 1px solid var(--color-gray-400);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 24px;\n  }\n\n  .preference-section:last-child {\n    border-bottom: none;\n  }\n\n  .preference-header {\n    margin-bottom: 0;\n    flex: 1;\n  }\n\n  .preference-header label {\n    font-size: var(--size-14);\n    font-weight: 500;\n    color: var(--color-gray-1000);\n    margin: 0;\n  }\n\n  .preference-description {\n    color: var(--color-gray-900);\n    font-size: var(--size-14);\n    margin: 0;\n  }\n\n  .preference-icon {\n    display: flex;\n    align-items: center;\n    width: 16px;\n    height: 16px;\n  }\n\n  .select-button,\n  .action-button {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background: var(--color-background-100);\n    border: 1px solid var(--color-gray-400);\n    border-radius: var(--rounded-lg);\n    font-weight: 400;\n    font-size: var(--size-14);\n    color: var(--color-gray-1000);\n    padding: 6px 8px;\n\n    &:hover {\n      background: var(--color-gray-100);\n    }\n  }\n\n  .preference-control-select {\n    padding: 6px 8px;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    border-radius: var(--rounded-lg);\n    border: 1px solid var(--color-gray-400);\n\n    &:hover {\n      background: var(--color-gray-100);\n    }\n\n    &:focus-within {\n      outline: 5px auto -webkit-focus-ring-color;\n    }\n  }\n\n  .preference-control-select select {\n    font-size: var(--size-14);\n    font-weight: 400;\n    border: none;\n    padding: 0 6px 0 0;\n    border-radius: 0;\n    outline: none;\n    background: none;\n  }\n\n  :global(.icon) {\n    width: 18px;\n    height: 18px;\n    color: #666;\n  }\n"]);return _templateObject=function(){return e},e}function getInitialPreference(){if("undefined"==typeof localStorage)return"system";const e=localStorage.getItem(_shared.STORAGE_KEY_THEME);return"dark"===e||"light"===e?e:"system"}function UserPreferences(e){let{isOpen:n,setPosition:r,position:t,hide:s,...i}=e;const[o,l]=(0,_react.useState)(getInitialPreference()),c=e=>{const n=document.querySelector("nextjs-portal");if(n){if(l(e.target.value),"system"===e.target.value)return n.classList.remove("dark"),n.classList.remove("light"),void localStorage.removeItem(_shared.STORAGE_KEY_THEME);"dark"===e.target.value?(n.classList.add("dark"),n.classList.remove("light"),localStorage.setItem(_shared.STORAGE_KEY_THEME,"dark")):(n.classList.remove("dark"),n.classList.add("light"),localStorage.setItem(_shared.STORAGE_KEY_THEME,"light"))}};function a(e){r(e.target.value),localStorage.setItem(_shared.STORAGE_KEY_POSITION,e.target.value)}return(0,_jsxruntime.jsx)(_devtoolsinfo.DevToolsInfo,{title:"Preferences",...i,children:(0,_jsxruntime.jsxs)("div",{className:"preferences-container",children:[(0,_jsxruntime.jsxs)("div",{className:"preference-section",children:[(0,_jsxruntime.jsxs)("div",{className:"preference-header",children:[(0,_jsxruntime.jsx)("label",{htmlFor:"theme",children:"Theme"}),(0,_jsxruntime.jsx)("p",{className:"preference-description",children:"Select your theme preference."})]}),(0,_jsxruntime.jsxs)("div",{className:"preference-control-select",children:[(0,_jsxruntime.jsx)("div",{className:"preference-icon",children:(0,_jsxruntime.jsx)(ThemeIcon,{theme:o})}),(0,_jsxruntime.jsxs)("select",{id:"theme",name:"theme",className:"select-button",value:o,onChange:c,children:[(0,_jsxruntime.jsx)("option",{value:"system",children:"System"}),(0,_jsxruntime.jsx)("option",{value:"light",children:"Light"}),(0,_jsxruntime.jsx)("option",{value:"dark",children:"Dark"})]})]})]}),(0,_jsxruntime.jsxs)("div",{className:"preference-section",children:[(0,_jsxruntime.jsxs)("div",{className:"preference-header",children:[(0,_jsxruntime.jsx)("label",{htmlFor:"position",children:"Position"}),(0,_jsxruntime.jsx)("p",{className:"preference-description",children:"Adjust the placement of your dev tools."})]}),(0,_jsxruntime.jsx)("div",{className:"preference-control-select",children:(0,_jsxruntime.jsxs)("select",{id:"position",name:"position",className:"select-button",value:t,onChange:a,children:[(0,_jsxruntime.jsx)("option",{value:"bottom-left",children:"Bottom Left"}),(0,_jsxruntime.jsx)("option",{value:"bottom-right",children:"Bottom Right"}),(0,_jsxruntime.jsx)("option",{value:"top-left",children:"Top Left"}),(0,_jsxruntime.jsx)("option",{value:"top-right",children:"Top Right"})]})})]}),(0,_jsxruntime.jsxs)("div",{className:"preference-section",children:[(0,_jsxruntime.jsxs)("div",{className:"preference-header",children:[(0,_jsxruntime.jsx)("label",{htmlFor:"hide-dev-tools",children:"Hide Dev Tools for this session"}),(0,_jsxruntime.jsx)("p",{className:"preference-description",children:"Hide Dev Tools until you restart your dev server, or 1 day."})]}),(0,_jsxruntime.jsx)("div",{className:"preference-control",children:(0,_jsxruntime.jsxs)("button",{id:"hide-dev-tools",name:"hide-dev-tools","data-hide-dev-tools":!0,className:"action-button",onClick:s,children:[(0,_jsxruntime.jsx)("div",{className:"preference-icon",children:(0,_jsxruntime.jsx)(_eyeicon.default,{})}),(0,_jsxruntime.jsx)("span",{children:"Hide"})]})})]}),(0,_jsxruntime.jsx)("div",{className:"preference-section",children:(0,_jsxruntime.jsxs)("div",{className:"preference-header",children:[(0,_jsxruntime.jsx)("label",{children:"Disable Dev Tools for this project"}),(0,_jsxruntime.jsxs)("p",{className:"preference-description",children:["To disable this UI completely, set"," ",(0,_jsxruntime.jsx)("code",{className:"dev-tools-info-code",children:"devIndicators: false"})," ","in your ",(0,_jsxruntime.jsx)("code",{className:"dev-tools-info-code",children:"next.config"})," ","file."]})]})})]})})}function ThemeIcon(e){let{theme:n}=e;switch(n){case"system":return(0,_jsxruntime.jsx)(_systemicon.default,{});case"dark":return(0,_jsxruntime.jsx)(_darkicon.default,{});case"light":return(0,_jsxruntime.jsx)(_lighticon.default,{});default:return null}}const DEV_TOOLS_INFO_USER_PREFERENCES_STYLES=(0,_css.css)(_templateObject());("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);