"use strict";function _export(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{handleHardNavError:function(){return handleHardNavError},useNavFailureHandler:function(){return useNavFailureHandler}});const _react=require("react"),_createhreffromurl=require("./router-reducer/create-href-from-url");function handleHardNavError(e){return!(!e||"undefined"==typeof window||!window.next.__pendingUrl||(0,_createhreffromurl.createHrefFromUrl)(new URL(window.location.href))===(0,_createhreffromurl.createHrefFromUrl)(window.next.__pendingUrl))&&(console.error("Error occurred during navigation, falling back to hard navigation",e),window.location.href=window.next.__pendingUrl.toString(),!0)}function useNavFailureHandler(){process.env.__NEXT_APP_NAV_FAIL_HANDLING&&(0,_react.useEffect)((()=>{const e=e=>{handleHardNavError("reason"in e?e.reason:e.error)};return window.addEventListener("unhandledrejection",e),window.addEventListener("error",e),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",e)}}),[])}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);