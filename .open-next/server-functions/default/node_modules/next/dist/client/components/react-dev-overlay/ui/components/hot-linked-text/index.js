"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"HotlinkedText",{enumerable:!0,get:function(){return HotlinkedText}});const _interop_require_default=require("@swc/helpers/_/_interop_require_default"),_jsxruntime=require("react/jsx-runtime"),_react=_interop_require_default._(require("react")),_magicidentifier=require("../../../../../../shared/lib/magic-identifier"),linkRegex=/https?:\/\/[^\s/$.?#].[^\s)'"]*/i,splitRegexp=new RegExp("("+_magicidentifier.MAGIC_IDENTIFIER_REGEX.source+"|\\s+)"),HotlinkedText=function(e){const{text:t,matcher:r}=e,i=t.split(splitRegexp);return(0,_jsxruntime.jsx)(_jsxruntime.Fragment,{children:i.map(((e,t)=>{if(linkRegex.test(e)){const i=linkRegex.exec(e)[0];return"function"!=typeof r||r(i)?(0,_jsxruntime.jsx)(_react.default.Fragment,{children:(0,_jsxruntime.jsx)("a",{href:i,target:"_blank",rel:"noreferrer noopener",children:e})},"link-"+t):e}try{const r=(0,_magicidentifier.decodeMagicIdentifier)(e);if(r!==e)return(0,_jsxruntime.jsxs)("i",{children:["{",r,"}"]},"ident-"+t)}catch(r){return(0,_jsxruntime.jsxs)("i",{children:["{",e," (decoding failed: ",""+r,")","}"]},"ident-"+t)}return(0,_jsxruntime.jsx)(_react.default.Fragment,{children:e},"text-"+t)}))})};("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);