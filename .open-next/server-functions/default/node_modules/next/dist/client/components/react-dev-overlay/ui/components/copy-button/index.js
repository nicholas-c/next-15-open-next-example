"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{COPY_BUTTON_STYLES:function(){return COPY_BUTTON_STYLES},CopyButton:function(){return CopyButton}});const _interop_require_wildcard=require("@swc/helpers/_/_interop_require_wildcard"),_jsxruntime=require("react/jsx-runtime"),_react=_interop_require_wildcard._(require("react")),_cx=require("../../utils/cx");function useCopyLegacy(e){const[t,r]=_react.useReducer(((e,t)=>"reset"===t.type?{state:"initial"}:"copied"===t.type?{state:"success"}:"copying"===t.type?{state:"pending"}:"error"===t.type?{state:"error",error:t.error}:e),{state:"initial"});function o(){s||(navigator.clipboard?(r({type:"copying"}),navigator.clipboard.writeText(e).then((()=>{r({type:"copied"})}),(e=>{r({type:"error",error:e})}))):r({type:"error",error:Object.defineProperty(new Error("Copy to clipboard is not supported in this browser"),"__NEXT_ERROR_CODE",{value:"E376",enumerable:!1,configurable:!0})}))}const n=_react.useCallback((()=>{r({type:"reset"})}),[]),s="pending"===t.state;return[t,o,n,s]}function useCopyModern(e){const[t,r,o]=_react.useActionState(((t,r)=>"reset"===r?{state:"initial"}:"copy"===r?navigator.clipboard?navigator.clipboard.writeText(e).then((()=>({state:"success"})),(e=>({state:"error",error:e}))):{state:"error",error:Object.defineProperty(new Error("Copy to clipboard is not supported in this browser"),"__NEXT_ERROR_CODE",{value:"E376",enumerable:!1,configurable:!0})}:t),{state:"initial"});function n(){_react.startTransition((()=>{r("copy")}))}return[t,n,_react.useCallback((()=>{r("reset")}),[r]),o]}const useCopy="function"==typeof _react.useActionState?useCopyModern:useCopyLegacy;function CopyButton(e){let{actionLabel:t,successLabel:r,content:o,icon:n,disabled:s,...c}=e;const[i,a,u,l]=useCopy(o),p="error"===i.state?i.error:null;_react.useEffect((()=>{null!==p&&console.error(p)}),[p]),_react.useEffect((()=>{if("success"===i.state){const e=setTimeout((()=>{u()}),2e3);return()=>{clearTimeout(e)}}}),[l,i.state,u]);const d=l||s,_="success"===i.state?r:t,y="success"===i.state?(0,_jsxruntime.jsx)(CopySuccessIcon,{}):n||(0,_jsxruntime.jsx)(CopyIcon,{width:14,height:14,className:"error-overlay-toolbar-button-icon"});return(0,_jsxruntime.jsxs)("button",{...c,type:"button",title:_,"aria-label":_,"aria-disabled":d,disabled:d,"data-nextjs-copy-button":!0,className:(0,_cx.cx)(c.className,"nextjs-data-copy-button","nextjs-data-copy-button--"+i.state),onClick:()=>{d||a()},children:[y,"error"===i.state?" "+i.error:null]})}function CopyIcon(e){return(0,_jsxruntime.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,_jsxruntime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.406.438c-.845 0-1.531.685-1.531 1.53v6.563c0 .846.686 1.531 1.531 1.531H3.937V8.75H2.406a.219.219 0 0 1-.219-.219V1.97c0-.121.098-.219.22-.219h4.812c.12 0 .218.098.218.219v.656H8.75v-.656c0-.846-.686-1.532-1.531-1.532H2.406zm4.375 3.5c-.845 0-1.531.685-1.531 1.53v6.563c0 .846.686 1.531 1.531 1.531h4.813c.845 0 1.531-.685 1.531-1.53V5.468c0-.846-.686-1.532-1.531-1.532H6.78zm-.218 1.53c0-.12.097-.218.218-.218h4.813c.12 0 .219.098.219.219v6.562c0 .121-.098.219-.22.219H6.782a.219.219 0 0 1-.218-.219V5.47z",fill:"currentColor"})})}function CopySuccessIcon(){return(0,_jsxruntime.jsx)("svg",{height:"16",xlinkTitle:"copied",viewBox:"0 0 16 16",width:"16",stroke:"currentColor",fill:"currentColor",children:(0,_jsxruntime.jsx)("path",{d:"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"})})}const COPY_BUTTON_STYLES="\n  .nextjs-data-copy-button {\n    color: inherit;\n\n    svg {\n      width: var(--size-16);\n      height: var(--size-16);\n    }\n  }\n  .nextjs-data-copy-button--initial:hover {\n    cursor: pointer;\n  }\n  .nextjs-data-copy-button--error,\n  .nextjs-data-copy-button--error:hover {\n    color: var(--color-ansi-red);\n  }\n  .nextjs-data-copy-button--success {\n    color: var(--color-ansi-green);\n  }\n";("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);