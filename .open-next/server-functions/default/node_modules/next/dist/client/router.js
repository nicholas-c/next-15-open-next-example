"use strict";function _export(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{Router:function(){return _router.default},createRouter:function(){return createRouter},default:function(){return _default},makePublicRouterInstance:function(){return makePublicRouterInstance},useRouter:function(){return useRouter},withRouter:function(){return _withrouter.default}});const _interop_require_default=require("@swc/helpers/_/_interop_require_default"),_react=_interop_require_default._(require("react")),_router=_interop_require_default._(require("../shared/lib/router/router")),_routercontextsharedruntime=require("../shared/lib/router-context.shared-runtime"),_iserror=_interop_require_default._(require("../lib/is-error")),_withrouter=_interop_require_default._(require("./with-router")),singletonRouter={router:null,readyCallbacks:[],ready(e){if(this.router)return e();"undefined"!=typeof window&&this.readyCallbacks.push(e)}},urlPropertyFields=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],routerEvents=["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"],coreMethodFields=["push","replace","reload","back","prefetch","beforePopState"];function getRouter(){if(!singletonRouter.router){const e='No router instance found.\nYou should only use "next/router" on the client side of your app.\n';throw Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}return singletonRouter.router}Object.defineProperty(singletonRouter,"events",{get:()=>_router.default.events}),urlPropertyFields.forEach((e=>{Object.defineProperty(singletonRouter,e,{get:()=>getRouter()[e]})})),coreMethodFields.forEach((e=>{singletonRouter[e]=function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return getRouter()[e](...t)}})),routerEvents.forEach((e=>{singletonRouter.ready((()=>{_router.default.events.on(e,(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];const n="on"+e.charAt(0).toUpperCase()+e.substring(1),u=singletonRouter;if(u[n])try{u[n](...t)}catch(e){console.error("Error when running the Router event: "+n),console.error((0,_iserror.default)(e)?e.message+"\n"+e.stack:e+"")}}))}))}));const _default=singletonRouter;function useRouter(){const e=_react.default.useContext(_routercontextsharedruntime.RouterContext);if(!e)throw Object.defineProperty(new Error("NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted"),"__NEXT_ERROR_CODE",{value:"E509",enumerable:!1,configurable:!0});return e}function createRouter(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return singletonRouter.router=new _router.default(...r),singletonRouter.readyCallbacks.forEach((e=>e())),singletonRouter.readyCallbacks=[],singletonRouter.router}function makePublicRouterInstance(e){const r=e,t={};for(const e of urlPropertyFields)"object"!=typeof r[e]?t[e]=r[e]:t[e]=Object.assign(Array.isArray(r[e])?[]:{},r[e]);return t.events=_router.default.events,coreMethodFields.forEach((e=>{t[e]=function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return r[e](...o)}})),t}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);