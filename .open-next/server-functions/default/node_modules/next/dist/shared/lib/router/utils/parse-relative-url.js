"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"parseRelativeUrl",{enumerable:!0,get:function(){return parseRelativeUrl}});const _utils=require("../../utils"),_querystring=require("./querystring");function parseRelativeUrl(e,r,t){void 0===t&&(t=!0);const i=new URL("undefined"==typeof window?"http://n":(0,_utils.getLocationOrigin)()),n=r?new URL(r,i):e.startsWith(".")?new URL("undefined"==typeof window?"http://n":window.location.href):i,{pathname:a,searchParams:o,search:s,hash:u,href:l,origin:h}=new URL(e,n);if(h!==i.origin)throw Object.defineProperty(new Error("invariant: invalid relative URL, router received "+e),"__NEXT_ERROR_CODE",{value:"E159",enumerable:!1,configurable:!0});return{pathname:a,query:t?(0,_querystring.searchParamsToUrlQuery)(o):void 0,search:s,hash:u,href:l.slice(h.length)}}