"use strict";function _export(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{formatUrl:function(){return formatUrl},formatWithValidation:function(){return formatWithValidation},urlObjectKeys:function(){return urlObjectKeys}});const _interop_require_wildcard=require("@swc/helpers/_/_interop_require_wildcard"),_querystring=_interop_require_wildcard._(require("./querystring")),slashedProtocols=/https?|ftp|gopher|file/;function formatUrl(e){let{auth:r,hostname:t}=e,o=e.protocol||"",n=e.pathname||"",s=e.hash||"",a=e.query||"",i=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?i=r+e.host:t&&(i=r+(~t.indexOf(":")?"["+t+"]":t),e.port&&(i+=":"+e.port)),a&&"object"==typeof a&&(a=String(_querystring.urlQueryToSearchParams(a)));let l=e.search||a&&"?"+a||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||slashedProtocols.test(o))&&!1!==i?(i="//"+(i||""),n&&"/"!==n[0]&&(n="/"+n)):i||(i=""),s&&"#"!==s[0]&&(s="#"+s),l&&"?"!==l[0]&&(l="?"+l),n=n.replace(/[?#]/g,encodeURIComponent),l=l.replace("#","%23"),""+o+i+n+l+s}const urlObjectKeys=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function formatWithValidation(e){return"development"===process.env.NODE_ENV&&null!==e&&"object"==typeof e&&Object.keys(e).forEach((e=>{urlObjectKeys.includes(e)||console.warn("Unknown key passed via urlObject into url.format: "+e)})),formatUrl(e)}