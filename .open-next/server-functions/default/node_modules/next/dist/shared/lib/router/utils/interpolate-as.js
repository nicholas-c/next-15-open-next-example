"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"interpolateAs",{enumerable:!0,get:function(){return interpolateAs}});const _routematcher=require("./route-matcher"),_routeregex=require("./route-regex");function interpolateAs(e,t,r){let o="";const n=(0,_routeregex.getRouteRegex)(e),u=n.groups,a=(t!==e?(0,_routematcher.getRouteMatcher)(n)(t):"")||r;o=e;const c=Object.keys(u);return c.every((e=>{let t=a[e]||"";const{repeat:r,optional:n}=u[e];let c="["+(r?"...":"")+e+"]";return n&&(c=(t?"":"/")+"["+c+"]"),r&&!Array.isArray(t)&&(t=[t]),(n||e in a)&&(o=o.replace(c,r?t.map((e=>encodeURIComponent(e))).join("/"):encodeURIComponent(t))||"/")}))||(o=""),{params:c,result:o}}