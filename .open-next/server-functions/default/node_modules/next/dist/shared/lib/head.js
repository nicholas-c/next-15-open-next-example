"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{default:function(){return _default},defaultHead:function(){return defaultHead}});const _interop_require_default=require("@swc/helpers/_/_interop_require_default"),_interop_require_wildcard=require("@swc/helpers/_/_interop_require_wildcard"),_jsxruntime=require("react/jsx-runtime"),_react=_interop_require_wildcard._(require("react")),_sideeffect=_interop_require_default._(require("./side-effect")),_ampcontextsharedruntime=require("./amp-context.shared-runtime"),_headmanagercontextsharedruntime=require("./head-manager-context.shared-runtime"),_ampmode=require("./amp-mode"),_warnonce=require("./utils/warn-once");function defaultHead(e){void 0===e&&(e=!1);const t=[(0,_jsxruntime.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,_jsxruntime.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function onlyReactElement(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===_react.default.Fragment?e.concat(_react.default.Children.toArray(t.props.children).reduce(((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t)),[])):e.concat(t)}const METATYPES=["name","httpEquiv","charSet","itemProp"];function unique(){const e=new Set,t=new Set,r=new Set,n={};return s=>{let o=!0,a=!1;if(s.key&&"number"!=typeof s.key&&s.key.indexOf("$")>0){a=!0;const t=s.key.slice(s.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(s.type){case"title":case"base":t.has(s.type)?o=!1:t.add(s.type);break;case"meta":for(let e=0,t=METATYPES.length;e<t;e++){const t=METATYPES[e];if(s.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?o=!1:r.add(t);else{const e=s.props[t],r=n[t]||new Set;"name"===t&&a||!r.has(e)?(r.add(e),n[t]=r):o=!1}}}return o}}function reduceComponents(e,t){const{inAmpMode:r}=t;return e.reduce(onlyReactElement,[]).reverse().concat(defaultHead(r).reverse()).filter(unique()).reverse().map(((e,t)=>{const n=e.key||t;if("development"!==process.env.NODE_ENV&&process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((t=>e.props.href.startsWith(t)))){const t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,_react.default.cloneElement(e,t)}if("development"===process.env.NODE_ENV)if("script"===e.type&&"application/ld+json"!==e.props.type){const t=e.props.src?'<script> tag with src="'+e.props.src+'"':"inline <script>";(0,_warnonce.warnOnce)("Do not add <script> tags using next/head (see "+t+"). Use next/script instead. \nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component")}else"link"===e.type&&"stylesheet"===e.props.rel&&(0,_warnonce.warnOnce)('Do not add stylesheets using next/head (see <link rel="stylesheet"> tag with href="'+e.props.href+'"). Use Document instead. \nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component');return _react.default.cloneElement(e,{key:n})}))}function Head(e){let{children:t}=e;const r=(0,_react.useContext)(_ampcontextsharedruntime.AmpStateContext),n=(0,_react.useContext)(_headmanagercontextsharedruntime.HeadManagerContext);return(0,_jsxruntime.jsx)(_sideeffect.default,{reduceComponentsToState:reduceComponents,headManager:n,inAmpMode:(0,_ampmode.isInAmpMode)(r),children:t})}const _default=Head;("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default);