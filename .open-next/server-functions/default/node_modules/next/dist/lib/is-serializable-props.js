"use strict";function _export(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{SerializableError:function(){return SerializableError},isSerializableProps:function(){return isSerializableProps}});const _isplainobject=require("../shared/lib/is-plain-object"),regexpPlainIdentifier=/^[A-Za-z_$][A-Za-z0-9_$]*$/;class SerializableError extends Error{constructor(e,r,n,i){super(n?`Error serializing \`${n}\` returned from \`${r}\` in "${e}".\nReason: ${i}`:`Error serializing props returned from \`${r}\` in "${e}".\nReason: ${i}`)}}function isSerializableProps(e,r,n){if(!(0,_isplainobject.isPlainObject)(n))throw Object.defineProperty(new SerializableError(e,r,"",`Props must be returned as a plain object from ${r}: \`{ props: { ... } }\` (received: \`${(0,_isplainobject.getObjectClassLabel)(n)}\`).`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});function i(n,i,a){if(n.has(i))throw Object.defineProperty(new SerializableError(e,r,a,`Circular references cannot be expressed in JSON (references: \`${n.get(i)||"(self)"}\`).`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});n.set(i,a)}function a(n,t,o){const l=typeof t;if(null===t||"boolean"===l||"number"===l||"string"===l)return!0;if("undefined"===l)throw Object.defineProperty(new SerializableError(e,r,o,"`undefined` cannot be serialized as JSON. Please use `null` or omit this value."),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});if((0,_isplainobject.isPlainObject)(t)){if(i(n,t,o),Object.entries(t).every((([e,r])=>{const i=regexpPlainIdentifier.test(e)?`${o}.${e}`:`${o}[${JSON.stringify(e)}]`,t=new Map(n);return a(t,e,i)&&a(t,r,i)})))return!0;throw Object.defineProperty(new SerializableError(e,r,o,"invariant: Unknown error encountered in Object."),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}if(Array.isArray(t)){if(i(n,t,o),t.every(((e,r)=>a(new Map(n),e,`${o}[${r}]`))))return!0;throw Object.defineProperty(new SerializableError(e,r,o,"invariant: Unknown error encountered in Array."),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}throw Object.defineProperty(new SerializableError(e,r,o,"`"+l+"`"+("object"===l?` ("${Object.prototype.toString.call(t)}")`:"")+" cannot be serialized as JSON. Please only return JSON serializable data types."),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}return a(new Map,n,"")}