"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"writeFileAtomic",{enumerable:!0,get:function(){return writeFileAtomic}});const _promises=require("fs/promises"),_rename=require("./rename");async function writeFileAtomic(e,t){const r=e+".tmp."+Math.random().toString(36).slice(2);try{await(0,_promises.writeFile)(r,t,"utf-8"),await(0,_rename.rename)(r,e)}catch(e){try{await(0,_promises.unlink)(r)}catch{}throw e}}