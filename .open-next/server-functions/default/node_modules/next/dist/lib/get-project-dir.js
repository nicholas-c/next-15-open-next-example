"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getProjectDir",{enumerable:!0,get:function(){return getProjectDir}});const _path=_interop_require_default(require("path")),_log=require("../build/output/log"),_detecttypo=require("./detect-typo"),_realpath=require("./realpath"),_utils=require("../server/lib/utils");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function getProjectDir(e,t=!0){const r=_path.default.resolve(e||".");try{const e=(0,_realpath.realpathSync)(r);return r!==e&&r.toLowerCase()===e.toLowerCase()&&(0,_log.warn)(`Invalid casing detected for project dir, received ${r} actual path ${e}, see more info here https://nextjs.org/docs/messages/invalid-project-dir-casing`),e}catch(i){if("ENOENT"===i.code&&t){if("string"==typeof e){const t=(0,_detecttypo.detectTypo)(e,["build","dev","info","lint","start","telemetry","experimental-test"]);if(t)return(0,_utils.printAndExit)(`"next ${e}" does not exist. Did you mean "next ${t}"?`)}return(0,_utils.printAndExit)(`Invalid project directory provided, no such directory: ${r}`)}throw i}}