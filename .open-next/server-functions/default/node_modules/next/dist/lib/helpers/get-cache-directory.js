"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getCacheDirectory",{enumerable:!0,get:function(){return getCacheDirectory}});const _os=_interop_require_default(require("os")),_path=_interop_require_default(require("path")),_fs=_interop_require_default(require("fs"));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function getCacheDirectory(e,r){let t;if(r)t=r;else{let r;if("linux"===process.platform)r=process.env.XDG_CACHE_HOME||_path.default.join(_os.default.homedir(),".cache");else if("darwin"===process.platform)r=_path.default.join(_os.default.homedir(),"Library","Caches");else if("win32"===process.platform)r=process.env.LOCALAPPDATA||_path.default.join(_os.default.homedir(),"AppData","Local");else{if(!r)for(const e of[_path.default.join(_os.default.homedir(),".cache"),_path.default.join(_os.default.tmpdir())])if(_fs.default.existsSync(e)){r=e;break}r||(console.error(Object.defineProperty(new Error("Unsupported platform: "+process.platform),"__NEXT_ERROR_CODE",{value:"E141",enumerable:!1,configurable:!0})),process.exit(0))}t=_path.default.join(r,e)}return _path.default.isAbsolute(t)||(t=_path.default.resolve(process.env.INIT_CWD||process.cwd(),t)),t}