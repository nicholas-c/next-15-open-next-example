"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"withCoalescedInvoke",{enumerable:!0,get:function(){return withCoalescedInvoke}});const globalInvokeCache=new Map;function withCoalescedInvoke(e){return async function(n,t){const o=globalInvokeCache.get(n);if(o)return o.then((e=>({isOrigin:!1,value:e.value})));async function a(){return await e.apply(void 0,t)}const c=a().then((e=>(globalInvokeCache.delete(n),{isOrigin:!0,value:e}))).catch((e=>(globalInvokeCache.delete(n),Promise.reject(e))));return globalInvokeCache.set(n,c),c}}