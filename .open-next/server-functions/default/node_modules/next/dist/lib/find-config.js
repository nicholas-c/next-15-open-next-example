"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{findConfig:function(){return findConfig},findConfigPath:function(){return findConfigPath}});const _findup=_interop_require_default(require("next/dist/compiled/find-up")),_promises=require("fs/promises"),_json5=_interop_require_default(require("next/dist/compiled/json5")),_url=require("url");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function findConfigPath(e,t){return(0,_findup.default)([`.${t}rc.json`,`${t}.config.json`,`.${t}rc.js`,`${t}.config.js`,`${t}.config.mjs`,`${t}.config.cjs`],{cwd:e})}async function findConfig(e,t,r){const i=await(0,_findup.default)("package.json",{cwd:e});let n=!1;if(i)try{const e=await(0,_promises.readFile)(i,"utf8"),r=JSON.parse(e);if("object"!=typeof r)throw new Error;if("module"===r.type&&(n=!0),null!=r[t]&&"object"==typeof r[t])return r[t]}catch{}const o=await findConfigPath(e,t),f=e=>"win32"!==process.platform||process.env.JEST_WORKER_ID?import(e):import((0,_url.pathToFileURL)(e).toString());if(o){if(o.endsWith(".js"))return n?(await f(o)).default:require(o);if(o.endsWith(".mjs"))return(await f(o)).default;if(o.endsWith(".cjs"))return require(o);const e=await(0,_promises.readFile)(o,"utf8");return _json5.default.parse(e)}return null}