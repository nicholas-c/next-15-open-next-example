"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"writeAppTypeDeclarations",{enumerable:!0,get:function(){return writeAppTypeDeclarations}});const _os=_interop_require_default(require("os")),_path=_interop_require_default(require("path")),_fs=require("fs");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}async function writeAppTypeDeclarations({baseDir:e,imageImportsEnabled:t,hasPagesDir:r,hasAppDir:i}){const n=_path.default.join(e,"next-env.d.ts");let s,a=_os.default.EOL;try{s=await _fs.promises.readFile(n,"utf8");const e=s.indexOf("\n",1);-1!==e&&(a="\r"===s[e-1]?"\r\n":"\n")}catch{}const o=['/// <reference types="next" />'];t&&o.push('/// <reference types="next/image-types/global" />'),i&&r&&o.push('/// <reference types="next/navigation-types/compat/navigation" />'),o.push("","// NOTE: This file should not be edited",`// see https://nextjs.org/docs/${i?"app":"pages"}/api-reference/config/typescript for more information.`);const p=o.join(a)+a;s!==p&&await _fs.promises.writeFile(n,p)}