"use strict";function _export(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{forEachEntryModule:function(){return forEachEntryModule},formatBarrelOptimizedResource:function(){return formatBarrelOptimizedResource},getModuleReferencesInOrder:function(){return getModuleReferencesInOrder},traverseModules:function(){return traverseModules}});const _entries=require("../entries");function traverseModules(e,t,n){e.chunkGroups.forEach((r=>{n&&!n(r)||r.chunks.forEach((n=>{const o=e.chunkGraph.getChunkModulesIterable(n);for(const u of o){var s;const o=null==(s=e.chunkGraph.getModuleId(u))?void 0:s.toString();o&&t(u,n,r,o);const i=u;if(i.modules)for(const e of i.modules)o&&t(e,n,r,o)}}))}))}function forEachEntryModule(e,t){for(const[r,o]of e.entries.entries()){var n;if(r.startsWith("pages/"))continue;const s=null==(n=o.dependencies)?void 0:n[0];if(!s||!s.request)continue;const u=s.request;if(!u.startsWith("next-edge-ssr-loader?")&&!u.startsWith("next-edge-app-route-loader?")&&!u.startsWith(`${(0,_entries.getAppLoader)()}?`))continue;let i=e.moduleGraph.getResolvedModule(s);(u.startsWith("next-edge-ssr-loader?")||u.startsWith("next-edge-app-route-loader?"))&&i.dependencies.forEach((t=>{const n=t.request;(null==n?void 0:n.includes((0,_entries.getAppLoader)()))&&(i=e.moduleGraph.getResolvedModule(t))})),t({name:r,entryModule:i})}}function formatBarrelOptimizedResource(e,t){return`${e}@${t}`}function getModuleReferencesInOrder(e,t){if("getOutgoingConnectionsInOrder"in t&&"function"==typeof t.getOutgoingConnectionsInOrder)return t.getOutgoingConnectionsInOrder(e);const n=[];for(const r of t.getOutgoingConnections(e))r.dependency&&r.module&&n.push({connection:r,index:t.getParentBlockIndex(r.dependency)});return n.sort(((e,t)=>e.index-t.index)),n.map((e=>e.connection))}