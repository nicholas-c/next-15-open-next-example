"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{formatModuleTrace:function(){return formatModuleTrace},getModuleTrace:function(){return getModuleTrace}});const _loaderutils3=_interop_require_default(require("next/dist/compiled/loader-utils3")),_path=require("path");function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function formatModule(e,t){const r=(0,_path.relative)(e.context,t.resource).replace(/\?.+$/,"");return _loaderutils3.default.isUrlRequest(r)?_loaderutils3.default.urlToRequest(r):r}function formatModuleTrace(e,t){let r,o=[];for(let n=t.length-1;n>=0;n--){const u=t[n];if(u.resource){if(u.resource.includes("node_modules/")){r=u;break}o.unshift(formatModule(e,u))}}let n="";if(r){var u,l;if("styled-jsx"===(null==(l=r.resourceResolveData)||null==(u=l.descriptionFileData)?void 0:u.name))n+=`\n\nThe error was caused by using 'styled-jsx' in '${o[0]}'. It only works in a Client Component but none of its parents are marked with "use client", so they're Server Components by default.`;else{let e=r.resource.split("node_modules");e=e[e.length-1],n+=`\n\nThe error was caused by importing '${e.slice(1)}' in '${o[0]}'.`}}return{lastInternalFileName:o[0],invalidImportMessage:n,formattedModuleTrace:o.map((e=>"  "+e)).join("\n")}}function getModuleTrace(e,t,r){const o=new Set,n=[];let u=e,l=!1;for(;u&&!o.has(u);){/[\\/]pages/.test(u.resource.replace(r.context,""))&&(l=!0),o.add(u),n.push(u);const e=t.moduleGraph.getIssuer(u);if(!e)break;u=e}return{moduleTrace:n,isPagesDir:l}}