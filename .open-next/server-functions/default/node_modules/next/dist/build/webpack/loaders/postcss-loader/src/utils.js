"use strict";function _export(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}Object.defineProperty(exports,"__esModule",{value:!0}),_export(exports,{normalizeSourceMap:function(){return normalizeSourceMap},normalizeSourceMapAfterPostcss:function(){return normalizeSourceMapAfterPostcss}});const _path=_interop_require_default(require("path"));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}const IS_NATIVE_WIN32_PATH=/^[a-z]:[/\\]|^\\\\/i,ABSOLUTE_SCHEME=/^[a-z0-9+\-.]+:/i;function getURLType(e){return"/"===e[0]?"/"===e[1]?"scheme-relative":"path-absolute":IS_NATIVE_WIN32_PATH.test(e)?"path-absolute":ABSOLUTE_SCHEME.test(e)?"absolute":"path-relative"}function normalizeSourceMap(e,t){let r=e;"string"==typeof r&&(r=JSON.parse(r)),delete r.file;const{sourceRoot:o}=r;return delete r.sourceRoot,r.sources&&(r.sources=r.sources.map((e=>{const r=getURLType(e);if("path-relative"===r||"path-absolute"===r){const a="path-relative"===r&&o?_path.default.resolve(o,_path.default.normalize(e)):_path.default.normalize(e);return _path.default.relative(t,a)}return e}))),r}function normalizeSourceMapAfterPostcss(e,t){const r=e;return delete r.file,r.sourceRoot="",r.sources=r.sources.map((e=>{if(e.startsWith("<"))return e;return"path-relative"===getURLType(e)?_path.default.resolve(t,e):e})),r}