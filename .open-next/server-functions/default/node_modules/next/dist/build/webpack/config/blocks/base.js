"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"base",{enumerable:!0,get:function(){return base}});const _lodashcurry=_interop_require_default(require("next/dist/compiled/lodash.curry")),_constants=require("../../../../shared/lib/constants"),_devtoolsignorelistplugin=_interop_require_default(require("../../plugins/devtools-ignore-list-plugin")),_evalsourcemapdevtoolplugin=_interop_require_default(require("../../plugins/eval-source-map-dev-tool-plugin"));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function shouldIgnorePath(e){return e.includes("node_modules")||e.includes("next/dist")}const base=(0,_lodashcurry.default)((function(e,o){if(o.mode=e.isDevelopment?"development":"production",o.name=e.isServer?e.isEdgeRuntime?_constants.COMPILER_NAMES.edgeServer:_constants.COMPILER_NAMES.server:_constants.COMPILER_NAMES.client,o.target=e.targetWeb?(e.isEdgeRuntime,["web","es6"]):"node18.17",e.isDevelopment?process.env.__NEXT_TEST_MODE&&!process.env.__NEXT_TEST_WITH_DEVTOOL?o.devtool=!1:process.env.NEXT_RSPACK?o.devtool="source-map":o.devtool="eval-source-map":e.isEdgeRuntime||e.isServer&&e.serverSourceMaps||e.productionBrowserSourceMaps&&e.isClient?(o.devtool="source-map",o.plugins??=[],o.plugins.push(new _devtoolsignorelistplugin.default({shouldIgnorePath:shouldIgnorePath}))):o.devtool=!1,o.module||(o.module={rules:[]}),o.plugins??=[],"source-map"===o.devtool)o.plugins.push(new _devtoolsignorelistplugin.default({shouldIgnorePath:shouldIgnorePath}));else if("eval-source-map"===o.devtool&&!process.env.NEXT_RSPACK){var t;o.devtool=!1,o.plugins.push(new _evalsourcemapdevtoolplugin.default({moduleFilenameTemplate:null==(t=o.output)?void 0:t.devtoolModuleFilenameTemplate,shouldIgnorePath:shouldIgnorePath}))}return o}));